(this["webpackJsonpdepositium-ui"]=this["webpackJsonpdepositium-ui"]||[]).push([[0],{231:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(11),a=n.n(r),i=n(25),o=n(41),c=n.n(o),s=n(42),l=n(26),d=function(t){var n=t.methodName,r=t.args,a=void 0===r?{}:r;return s.c.connection.provider.query({account_id:l.a.financeContractId,args_base64:e.from(JSON.stringify(a)).toString("base64"),finality:"final",method_name:n,request_type:"call_function"}).then((function(t){var n=t.result;return JSON.parse(e.from(n).toString())}))};function u(){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(a.a.mark((function e(){var t,n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({args:{pool_id:7},methodName:"get_pool"});case 2:return t=e.sent,n=new c.a(t.amounts[0]).div(c.a.pow(10,6)),r=new c.a(t.amounts[1]).div(c.a.pow(10,24)),i=n.div(r),e.abrupt("return",new c.a(i.toFixed(10)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(66).Buffer)},241:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(15),a=n(36),i=n(11),o=n.n(i),c=n(25),s=n(41),l=n.n(s),d=n(42),u=n(26),p=n(33),f=function(t){var n=t.contractId,r=t.methodName,a=t.args,i=void 0===a?{}:a,o=d.c;return n===u.a.financeContractId&&(o=d.b),o.connection.provider.query({account_id:n,args_base64:e.from(JSON.stringify(i)).toString("base64"),finality:"final",method_name:r,request_type:"call_function"}).then((function(t){var n=t.result;return JSON.parse(e.from(n).toString())}))};function b(){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(o.a.mark((function e(){var t,n,i,c,s,d,b,h,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetch balance from contract",u.a.depositiumContractId),e.next=3,p.a.account();case 3:return n=e.sent,e.next=6,f({args:{account_id:n.accountId},contractId:u.a.depositiumContractId,methodName:"balance_of"});case 6:i=e.sent,c={},console.log("balances res",i),s=Object(a.a)(i);try{for(s.s();!(d=s.n()).done;)b=Object(r.a)(d.value,2),h=b[0],x=b[1],c[h]=new l.a(x).div(l.a.pow(10,24)).toFixed(2)}catch(o){s.e(o)}finally{s.f()}return console.log("balances",c),e.abrupt("return",null!==(t=c["wrap_near-aromankov.testnet"])&&void 0!==t?t:0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(66).Buffer)},26:function(e,t,n){"use strict";t.a={depositiumContractId:"dev-1636561943086-95480970246195",explorerUrl:"https://explorer.testnet.near.org",helperUrl:"https://helper.testnet.near.org",indexerUrl:"https://testnet-indexer.ref-finance.com",networkId:"TESTNET",nodeUrl:"https://rpc.testnet.near.org",walletUrl:"https://wallet.testnet.near.org",wrapNearContractId:"wrap_near-aromankov.testnet",financeContractId:"ref-exchange-aromankov.testnet",farmingContractId:"ref-farming-aromankov.testnet",activeFarms:"ref-exchange-aromankov.testnet@2#1".split(","),availableFarms:"ref-exchange-aromankov.testnet@2#1".split(",")}},287:function(e,t){},296:function(e,t){},33:function(e,t,n){"use strict";var r=n(42),a=n(52),i=n(26),o=new a.WalletConnection(r.c,i.a.depositiumContractId);t.a=o},340:function(e,t,n){},341:function(e,t,n){},342:function(e,t,n){},42:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return j}));var r=n(11),a=n.n(r),i=n(25),o=n(51),c=n(52),s=n(72),l=n(26),d="0.000000000000000000000001",u=new c.Near(Object(o.a)({keyStore:new c.keyStores.InMemoryKeyStore},{explorerUrl:"https://explorer.testnet.near.org",helperUrl:"https://helper.testnet.near.org",networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",walletUrl:"https://wallet.testnet.near.org"})),p=new c.Near(Object(o.a)({keyStore:new c.keyStores.InMemoryKeyStore},{explorerUrl:"https://explorer.mainnet.near.org",helperUrl:"https://helper.mainnet.near.org",networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",walletUrl:"https://wallet.mainnet.near.org"})),f=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=c.utils.format.parseNearAmount(t),n.push({functionCalls:[{amount:d,args:{coin:l.a.wrapNearContractId,amount:r},gas:"300000000000000",methodName:"withdrawal"}],receiverId:l.a.depositiumContractId}),n.push({functionCalls:[{amount:d,args:{amount:r},gas:"30000000000000",methodName:"near_withdraw"}],receiverId:l.a.wrapNearContractId}),e.abrupt("return",Object(s.a)(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=[],e.next=4,Object(s.b)(l.a.wrapNearContractId);case 4:return(i=e.sent)&&"0"!==i.total||r.push({amount:"0.00125",args:{},gas:"30000000000000",methodName:"storage_deposit"}),r.push({amount:t,args:{},gas:"50000000000000",methodName:"near_deposit"}),r.push({amount:d,args:{amount:c.utils.format.parseNearAmount(t),msg:"",receiver_id:l.a.depositiumContractId},gas:"50000000000000",methodName:"ft_transfer_call"}),n.push({functionCalls:r,receiverId:l.a.wrapNearContractId}),e.abrupt("return",Object(s.a)(n));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("stopStrategy",t),n=[],r=s.c.getAccountId(),i=r.split(".")[0],o="".concat(i,".").concat(l.a.depositiumContractId),n.push({functionCalls:[{amount:d,args:{},gas:"300000000000000",methodName:"stop_farming"}],receiverId:o}),n.push({functionCalls:[{amount:d,args:{},gas:"300000000000000",methodName:"withdraw_reward"}],receiverId:o}),n.push({functionCalls:[{amount:d,args:{},gas:"300000000000000",methodName:"redeem"}],receiverId:o}),n.push({functionCalls:[{amount:d,args:{},gas:"300000000000000",methodName:"delete"}],receiverId:o}),e.abrupt("return",Object(s.a)(n));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],console.log("startStrategy",t),r=s.c.getAccountId(),i=r.split(".")[0],o="".concat(i,".").concat(l.a.depositiumContractId),n.push({functionCalls:[{amount:"4",args:{accound_sub_id:i},gas:"300000000000000",methodName:"create"}],receiverId:l.a.depositiumContractId}),n.push({functionCalls:[{amount:"0.1",args:{account_id:o},gas:"300000000000000",methodName:"storage_deposit"}],receiverId:l.a.wrapNearContractId}),n.push({functionCalls:[{methodName:"storage_deposit",args:{account_id:o},amount:"0.1",gas:"300000000000000"}],receiverId:l.a.farmingContractId}),n.push({functionCalls:[{args:{},gas:"300000000000000",methodName:"init"}],receiverId:o}),n.push({functionCalls:[{args:{account_id:r,sub_account_id:o,amount:c.utils.format.parseNearAmount(t)},gas:"300000000000000",methodName:"start_strategy"}],receiverId:l.a.depositiumContractId}),e.abrupt("return",Object(s.a)(n));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://helper.testnet.near.org/fiat",{headers:{"Content-type":"application/json; charset=UTF-8"},method:"GET"}).then((function(e){return e.json()})).catch((function(){return{near:{cny:66.36,eur:8.98,last_updated_at:1636159198,usd:10.37}}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},454:function(e,t){},455:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(73),o=n.n(i),c=n(112),s=n(65),l=n(41),d=n.n(l),u=n(42),p=function(e,t,n){if(!e||!t||!n)return"0";try{new d.a(n)}catch(r){return"0"}return new d.a(e).div(100).div("365").times(t).times(n).toFixed(2)},f=Object(s.d)({initialState:{f_ref_near:{apr:54.3,days:30,depositAmount:"",depositAmountUSD:0,profit:0,profitUSD:0},f_usdt_near:{apr:94.3,days:30,depositAmount:"",depositAmountUSD:0,profit:0,profitUSD:0}},name:"strategyItem",reducers:{changeDays:function(e,t){var n=t.payload,r=n.value,a=e[n.strategyId];a.days=r,a.profit=p(a.apr,a.days,a.depositAmount)},changeDepositAmount:function(e,t){var n=t.payload,r=n.value,a=e[n.strategyId];a.depositAmount=r,a.profit=p(a.apr,a.days,a.depositAmount)},startStrategy:function(e,t){var n=t.payload,r=n.strategyId,a=n.amount;console.log("start strategy",r),Object(u.d)(a).then((function(e){console.log("start strategy res:",e)})).catch((function(e){return console.log("startStrategy err",e)}))},stopStrategy:function(e,t){var n=t.payload.strategyId;console.log("stop strategy",n),Object(u.e)(n).then((function(e){console.log("stop strategy res:",e)})).catch((function(e){return console.log("stopStrategy err",e)}))}}}),b=f.actions,h=(b.changeDepositAmount,b.changeDays,b.startStrategy),x=b.stopStrategy,j=f.reducer,m=n(11),g=n.n(m),y=n(25),O=n(231),v=Object(s.c)("prices/fetchPrices",Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching the prices"),e.next=3,Object(O.a)();case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),w=Object(s.d)({extraReducers:function(e){e.addCase(v.pending,(function(e){e.status="loading"})).addCase(v.fulfilled,(function(e,t){e.status="idle",console.log("action.payload",t.payload),e.nearPrice=t.payload}))},initialState:{nearPrice:0},name:"prices"}).reducer,C=n(51),S=Object(s.b)("Balance/updateBalance",(function(e){return{payload:e}})),k=Object(s.b)("Balance/updateRate",(function(e){return{payload:e}})),F=Object(s.d)({extraReducers:function(e){e.addCase(S,(function(e,t){return Object(C.a)(Object(C.a)({},e),{},{balance:t.payload})})).addCase(k,(function(e,t){return Object(C.a)(Object(C.a)({},e),{},{rate:t.payload})}))},initialState:{balance:0,rate:0},name:"Balance",reducers:{}}).reducer,I=Object(s.a)({reducer:{balance:F,prices:w,strategyItem:j}}),_=(n(340),n(341),n(520)),D=n(258),A=n(517),N=n(518),R=(n(342),n(33)),z=n(15),W=n(519),H=n(514),E=n(516),B=n(506),L=n(521),T=n(511),M=n(243),U=n.n(M),P=n(3),V=function(){return Object(P.jsx)("svg",{width:"12",height:"7",viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(P.jsx)("path",{d:"M1.00012 1L5.92941 5.92929C5.96846 5.96834 6.03178 5.96834 6.07083 5.92929L11.0001 1",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})})},$=a.a.memo(V),Z=n(500),q=n(501),J=n(17),K=n(522),G=n(87),X=n(77),Y=function(){return Object(P.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(P.jsx)("path",{d:"M2.24921 0.594416L2.34421 0.678302L6.62268 4.95693L10.9012 0.678302C11.295 0.284479 11.9335 0.284479 12.3273 0.678302C12.6908 1.04183 12.7188 1.61386 12.4112 2.00946L12.3273 2.10446L8.04868 6.38294L12.3273 10.6614C12.7211 11.0552 12.7211 11.6938 12.3273 12.0876C11.9638 12.4511 11.3918 12.4791 10.9962 12.1715L10.9012 12.0876L6.62268 7.80894L2.34421 12.0876C1.95039 12.4814 1.31187 12.4814 0.918049 12.0876C0.55452 11.724 0.526555 11.152 0.834156 10.7564L0.918049 10.6614L5.19669 6.38294L0.918049 2.10446C0.524226 1.71064 0.524226 1.07212 0.918049 0.678302C1.28158 0.314773 1.85361 0.286815 2.24921 0.594416Z",fill:"black"})})},Q=a.a.memo(Y),ee=function(e){var t=e.amount,n=e.onAmountChange,a=e.errorMessage,i=Object(r.useCallback)((function(e){n(e.target.value)}),[n]),o=Object(r.useMemo)((function(){return void 0===a&&Number(t)?(Number(t)*I.getState().balance.rate).toFixed(2):0}),[t,a]);return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)("input",{value:t,onChange:i,style:{backgroundColor:"#FFFFFF",border:"1px solid #DDDDDD",borderRadius:5,boxSizing:"border-box",flexGrow:1,fontSize:12,fontStyle:"normal",fontWeight:"normal",height:33,lineHeight:"26px",maxLines:1,overflowX:"scroll",paddingLeft:14,paddingRight:14,resize:"none",whiteSpace:"nowrap"},placeholder:"NEAR"}),Object(P.jsx)("div",{style:{border:"1px solid #000000",margin:"0px 6px 0px 6px ",opacity:.2,width:13}}),Object(P.jsx)("div",{style:{backgroundColor:"#383838",border:"1px solid #413F3F",borderRadius:5,boxShadow:"inset 0px 4px 4px #383030",boxSizing:"border-box",display:"flex",height:33,justifyContent:"center",minWidth:160,paddingTop:4},children:Object(P.jsx)("div",{style:{color:"#FFFFFF",fontSize:12,fontStyle:"normal",fontWeight:"bold",lineHeight:"26px"},children:"$ ".concat(o)})})]}),Object(P.jsx)("div",{style:{height:12},children:Object(P.jsx)("div",{style:{color:"red",fontSize:11,fontStyle:"normal",fontWeight:500,lineHeight:"26px",opacity:.5},children:a})})]})},te=a.a.memo(ee),ne=X.b().shape({amount:X.a().typeError("Invalid amount!").min(10,"Min amount is 10!").max(100,"Max amount is 100!")}),re=function(e){var t=e.onClose,n=e.onDeposit,i=Object(r.useCallback)((function(e){var t=e.amount;n(t)}),[n]);return Object(P.jsx)(a.a.Fragment,{children:Object(P.jsx)(G.b,{initialValues:{amount:""},validationSchema:ne,onSubmit:i,children:function(e){var n=e.errors,r=(e.touched,e.values),a=e.handleChange,i=e.handleSubmit;return Object(P.jsxs)("div",{style:{backgroundColor:"#E9EDF0",border:"1px solid #E9EDF0",borderRadius:10,boxShadow:"0px 4px 10px rgba(204, 204, 204, 0.25)",boxSizing:"border-box",left:"50%",paddingBottom:26,paddingTop:28,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"auto"},children:[Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between",paddingLeft:39,paddingRight:18},children:[Object(P.jsx)("div",{style:{color:"#2D2D2D",fontSize:20,fontStyle:"normal",fontWeight:"bold",lineHeight:"26px"},children:"Deposit NEAR"}),Object(P.jsx)(L.a,{onClick:t,"aria-label":"delete",size:"small",children:Object(P.jsx)(Q,{})})]}),Object(P.jsx)("div",{style:{border:"1px solid #000000",margin:"10px 0px 20px 0px ",opacity:.2}}),Object(P.jsxs)(G.a,{children:[Object(P.jsx)("div",{style:{paddingLeft:39,paddingRight:39},children:Object(P.jsx)(te,{amount:r.amount,onAmountChange:a("amount"),errorMessage:n.amount})}),Object(P.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:14},children:Object(P.jsx)(ae,{disabled:void 0!==n.amount&&0===r.amount.length,onClick:function(){return i()},children:"Deposit"})})]})]})}})})},ae=Object(J.a)(K.a)({backgroundColor:"#0097A7",borderRadius:20,color:"#FFFFFF",fontSize:"12px",fontStyle:"normal",fontWeight:"bold",height:33,lineHeight:"26px",marginRight:"8px",padding:"6px",textTransform:"none",width:110}),ie=a.a.memo(re),oe=n(512),ce=function(e){var t=e.amount,n=e.onAmountChange,a=e.errorMessage,i=Object(r.useCallback)((function(e){n(e.target.value)}),[n]),o=Object(r.useMemo)((function(){return void 0===a&&Number(t)?(Number(t)*I.getState().balance.rate).toFixed(2):0}),[t,a]);return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)("input",{value:t,onChange:i,style:{backgroundColor:"#FFFFFF",border:"1px solid #DDDDDD",borderRadius:5,boxSizing:"border-box",flexGrow:1,fontSize:12,fontStyle:"normal",fontWeight:"normal",height:33,lineHeight:"26px",maxLines:1,overflowX:"scroll",paddingLeft:14,paddingRight:14,resize:"none",whiteSpace:"nowrap"},placeholder:"NEAR"}),Object(P.jsx)("div",{style:{border:"1px solid #000000",margin:"0px 6px 0px 6px ",opacity:.2,width:13}}),Object(P.jsx)("div",{style:{backgroundColor:"#383838",border:"1px solid #413F3F",borderRadius:5,boxShadow:"inset 0px 4px 4px #383030",boxSizing:"border-box",display:"flex",height:33,justifyContent:"center",minWidth:160,paddingTop:4},children:Object(P.jsx)("div",{style:{color:"#FFFFFF",fontSize:12,fontStyle:"normal",fontWeight:"bold",lineHeight:"26px"},children:"$ ".concat(o)})})]}),Object(P.jsx)("div",{style:{height:12},children:Object(P.jsx)("div",{style:{color:"red",fontSize:11,fontStyle:"normal",fontWeight:500,lineHeight:"26px",opacity:.5},children:a})})]})},se=a.a.memo(ce),le=function(e){var t,n=e.onClose,i=e.onWithdraw,o=Object(r.useCallback)((function(e){var t=e.amount;i(t)}),[i]);return Object(P.jsx)(a.a.Fragment,{children:Object(P.jsx)(G.b,{initialValues:{amount:""},validationSchema:(t=I.getState().balance.balance,X.b().shape({amount:X.a().typeError("Invalid amount!").min(.1,"Min amount is 0.1!").max(t,"Max amount is ".concat(t.toFixed(2),"!"))})),onSubmit:o,children:function(e){var t=e.errors,r=(e.touched,e.values),a=e.handleChange,i=e.handleSubmit;return Object(P.jsxs)("div",{style:{backgroundColor:"#E9EDF0",border:"1px solid #E9EDF0",borderRadius:10,boxShadow:"0px 4px 10px rgba(204, 204, 204, 0.25)",boxSizing:"border-box",left:"50%",paddingBottom:26,paddingTop:28,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"auto"},children:[Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between",paddingLeft:39,paddingRight:18},children:[Object(P.jsx)("div",{style:{color:"#2D2D2D",fontSize:20,fontStyle:"normal",fontWeight:"bold",lineHeight:"26px"},children:"Withdraw NEAR"}),Object(P.jsx)(L.a,{onClick:n,"aria-label":"delete",size:"small",children:Object(P.jsx)(Q,{})})]}),Object(P.jsx)("div",{style:{border:"1px solid #000000",margin:"10px 0px 20px 0px ",opacity:.2}}),Object(P.jsxs)(G.a,{children:[Object(P.jsx)("div",{style:{paddingLeft:39,paddingRight:39},children:Object(P.jsx)(se,{amount:r.amount,onAmountChange:a("amount"),errorMessage:t.amount})}),Object(P.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:14},children:Object(P.jsx)(de,{disabled:void 0!==t.amount&&0===r.amount.length,onClick:function(){return i()},children:"Withdraw"})})]})]})}})})},de=Object(J.a)(K.a)({backgroundColor:"#0097A7",borderRadius:20,color:"#FFFFFF",fontSize:"12px",fontStyle:"normal",fontWeight:"bold",height:33,lineHeight:"26px",marginRight:"8px",padding:"6px",textTransform:"none",width:110}),ue=a.a.memo(le),pe=n(241);function fe(){var e=Object(r.useState)("~"),t=Object(z.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)("~"),o=Object(z.a)(i,2),c=o[0],s=o[1],l=Object(r.useState)("~"),p=Object(z.a)(l,2),f=p[0],b=p[1];return Object(r.useEffect)((function(){function e(){return e=Object(y.a)(g.a.mark((function e(){var t,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pe.a)();case 2:return n=e.sent,a(n),I.dispatch(S(null!==(t=Number(n))&&void 0!==t?t:0)),e.next=7,Object(u.a)();case 7:r=e.sent,s(r.near.usd),b(new d.a(r.near.usd).times(n).toFixed(2)),I.dispatch(k(r.near.usd));case 11:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),{balance:n,fiatAmount:f,rate:c}}var be=function(){var e=fe().balance,t=Object(r.useState)(!1),n=Object(z.a)(t,2),a=n[0],i=n[1],o=Object(r.useCallback)((function(){i(!0)}),[]),c=Object(r.useCallback)((function(){i(!1)}),[]),s=Object(r.useCallback)(function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.g)(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),l=Object(r.useState)(!1),d=Object(z.a)(l,2),p=d[0],f=d[1],b=Object(r.useCallback)((function(){f(!0)}),[]),h=Object(r.useCallback)((function(){f(!1)}),[]),x=Object(r.useCallback)(function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.f)(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),j=r.useState(null),m=Object(z.a)(j,2),O=m[0],v=m[1],w=Boolean(O),C=Object(r.useCallback)((function(e){v(e.currentTarget)}),[]),S=Object(r.useCallback)((function(){v(null)}),[]),k=Object(r.useCallback)((function(){R.a.signOut(),window.location.reload()}),[]);return Object(P.jsxs)(r.Fragment,{children:[Object(P.jsxs)(N.a,{sx:{alignItems:"center",display:"flex",textAlign:"center"},children:[Object(P.jsx)(he,{onClick:o,variant:"text",startIcon:Object(P.jsx)(Z.a,{fontSize:"small"}),children:"Deposit"}),Object(P.jsx)("div",{style:{border:"1px solid #CADEEF",height:32,marginLeft:24,marginRight:20}}),"0"!==e&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(he,{onClick:b,variant:"text",startIcon:Object(P.jsx)(q.a,{fontSize:"small"}),children:"Withdraw"}),Object(P.jsx)("div",{style:{border:"1px solid #CADEEF",height:32,marginLeft:24,marginRight:20}})]}),Object(P.jsx)("div",{style:{color:"#FFFFFF",fontSize:14,fontStyle:"normal",fontWeight:600,letterSpacing:"0.2px",lineHeight:"20px",marginLeft:5},children:R.a.account().accountId}),Object(P.jsx)(T.a,{title:"Account settings",children:Object(P.jsxs)(L.a,{onClick:C,size:"small",sx:{ml:2},children:[Object(P.jsx)(W.a,{sx:{height:44,marginRight:"11px",width:44},children:R.a.account().accountId[0]}),Object(P.jsx)($,{})]})})]}),Object(P.jsx)(H.a,{anchorEl:O,open:w,onClose:S,onClick:S,PaperProps:{elevation:0,sx:{"& .MuiAvatar-root":{height:32,ml:-.5,mr:1,width:32},"&:before":{bgcolor:"background.paper",content:'""',display:"block",height:10,position:"absolute",right:14,top:0,transform:"translateY(-50%) rotate(45deg)",width:10,zIndex:0},filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,overflow:"visible"}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:Object(P.jsxs)(E.a,{onClick:k,children:[Object(P.jsx)(B.a,{children:Object(P.jsx)(U.a,{fontSize:"small"})}),"Logout"]})}),Object(P.jsx)(oe.a,{open:a,onClose:c,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:Object(P.jsx)(ie,{onDeposit:s,onClose:c})}),Object(P.jsx)(oe.a,{open:p,onClose:h,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:Object(P.jsx)(ue,{onWithdraw:x,onClose:h})})]})},he=Object(J.a)(K.a)({color:"#FFFFFF",fontSize:14,fontStyle:"normal",fontWeight:600,letterSpacing:"0.2px",lineHeight:"20px",padding:"6px",textTransform:"none"}),xe=r.memo(be),je=function(){var e=Object(r.useCallback)((function(){R.a.requestSignIn()}),[]);return Object(P.jsx)(me,{variant:"contained",endIcon:Object(P.jsx)("img",{src:"./icons/near.png",height:24,width:24}),onClick:e,children:"Connect NEAR"})},me=Object(J.a)(K.a)({backgroundColor:"#FFFFFF",padding:"6px 12px 6px 12px",textTransform:"none"}),ge=a.a.memo(je),ye=function(){return Object(P.jsxs)(N.a,{style:{alignItems:"center",display:"flex",height:100,justifyContent:"space-between"},children:[Object(P.jsx)("div",{style:{color:"#FFFFFF",fontSize:"36px",fontStyle:"normal",fontWeight:"bold",lineHeight:"26px",opacity:.3},children:"Depositium"}),Object(P.jsx)(N.a,{children:R.a.isSignedIn()?Object(P.jsx)(xe,{}):Object(P.jsx)(ge,{})})]})},Oe=a.a.memo(ye),ve=function(){return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(we,{})})},we=function(){var e=fe(),t=e.balance,n=e.rate,r=e.fiatAmount;return Object(P.jsxs)("div",{style:{alignItems:"center",backgroundColor:"#F8F8F8",borderRadius:10,display:"flex",paddingLeft:19,paddingRight:21},children:[Object(P.jsx)(Ce,{token:"NEAR",style:{height:38,marginBottom:19,marginTop:17,width:38}}),Object(P.jsxs)("div",{style:{marginBottom:12,marginLeft:12,marginTop:19,width:"100%"},children:[Object(P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)("div",{style:{fontSize:16,fontStyle:"normal",fontWeight:"bold",lineHeight:"20px",textTransform:"uppercase"},children:"Near"}),Object(P.jsx)("div",{style:{fontSize:14,fontStyle:"normal",fontWeight:"bold",lineHeight:"20px",textTransform:"uppercase"},children:"".concat(t," NEAR")})]}),Object(P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)("div",{style:{fontSize:12,fontStyle:"normal",fontWeight:500,lineHeight:"26px",opacity:.5},children:"$ ".concat(n)}),Object(P.jsx)("div",{style:{fontSize:12,fontStyle:"normal",fontWeight:500,lineHeight:"26px",opacity:.5},children:"$".concat(r," USD")})]})]})]})},Ce=function(e){var t=e.token,n=e.style,a=Object(r.useMemo)((function(){switch(t){case"REF":return"./icons/ref.png";case"NEAR":return"./icons/near.png";case"USDT":return"./icons/usdt.png"}}),[t]);return Object(P.jsx)("img",{style:n,src:a,height:"24px",width:"24px"})},Se=a.a.memo(ve),ke=n(22),Fe=n(36),Ie=n(4),_e=n(510),De=n(46),Ae=n.n(De);function Ne(e){for(var t=/(-?\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return e}var Re=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=e.split("."),i=Object(z.a)(a,2),o=i[0],c=i[1],s=void 0===c?"":c,l="".concat(n?Ne(o):o,".").concat(s.slice(0,t)).replace(/\.$/,"");if(r&&0===Number(l)&&l.length>1){var d=l.lastIndexOf("0");l=l.slice(0,d)+l.slice(d).replace("0","1")}return l},ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(!e)return t;var n=t.substring(0,t.length-e)||"0",r=t.substring(t.length-e).padStart(e,"0").substring(0,e);return"".concat(n,".").concat(r).replace(/\.?0+$/,"")},We=function(e){return e.slice(e.indexOf("@")+1,e.lastIndexOf("#"))},He=function(){var e=Object(y.a)(g.a.mark((function e(t,n,r,a,i,o,c){var s,l,d,u,p,f,b,h,x,j,m,y,O,v,w,S;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.tvl,d=l,u=Number(ze(24,n.shares_total_supply)),p=ze(24,null!==r&&void 0!==r?r:"0"),f={"usdc-aromankov.testnet":{decimals:18,price:1}}[t.reward_token],b=f&&f.price||0,h=null!==(s=ze(f.decimals,i))&&void 0!==s?s:"0",j=ze(24,x=null!==o&&void 0!==o?o:"0"),m=Ie.pe(_e.a("(".concat(t.reward_per_session," / ").concat(t.session_interval,") * 604800"))),y=Re(ze(f.decimals,new De.BigNumber(m.toString()).toFixed()),2),O="0"!==x?Ie.pe(_e.a("".concat(m," * (").concat(null!==r&&void 0!==r?r:0," / ").concat(x,")"))):0,v=ze(f.decimals,O.toString()),w=new De.BigNumber(j).multipliedBy(d).dividedBy(u).toNumber(),S=(S=0===w?"0":new De.BigNumber(1).dividedBy(w).multipliedBy(new De.BigNumber(y).multipliedBy(b)).multipliedBy(52).multipliedBy(100)).gt(100)?S.toFixed(0):S.toFixed(2),"Created"===t.farm_status&&(t.farm_status="Pending"),e.abrupt("return",Object(C.a)(Object(C.a)({},t),{},{apr:S,lpTokenId:c,pool:n,rewardNumber:h,rewardToken:f,rewardsPerWeek:y,totalStaked:w,userRewardsPerWeek:v,userStaked:p}));case 19:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,c){return e.apply(this,arguments)}}(),Ee=n(95),Be=n(26),Le=n(72),Te=Be.a.availableFarms,Me=function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,r,a,i,o,c,s,l,d,u,p,f,b,h,x,j,m,y,O,v,w,S,k,F;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ee.d)();case 2:return t=e.sent,e.next=5,Object(Ee.a)();case 5:if(n=e.sent,r=Le.c.getAccountId(),a=r.split(".")[0],i="".concat(a,".").concat(Be.a.depositiumContractId),!R.a.isSignedIn()){e.next=15;break}return e.next=12,Object(Ee.c)({accountId:i});case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0={};case 16:if(o=e.t0,!R.a.isSignedIn()){e.next=23;break}return e.next=20,Object(Ee.e)({accountId:i});case 20:e.t1=e.sent,e.next=24;break;case 23:e.t1={};case 24:return c=e.t1,s={"usdc-aromankov.testnet":1,"wrap_near-aromankov.testnet":10.6},l=n.filter((function(e){return Te.includes(e.farm_id)})),l.map((function(e){return We(e.farm_id)})),d={},e.next=31,Object(Ee.b)();case 31:if(u=e.sent)for(p=0;p<u.length;p++)f=u[p].token_account_ids[0],b=u[p].token_account_ids[1],h=new De.BigNumber(u[p].amounts[0]).dividedBy(new De.BigNumber(10).pow(18)).multipliedBy(s[f]),x=new De.BigNumber(u[p].amounts[1]).dividedBy(new De.BigNumber(10).pow(24)).multipliedBy(s[b]),d["".concat(Be.a.financeContractId,"@").concat(p,"#1")]={shares_total_supply:u[p].shares_total_supply,token_symbols:u[p].token_account_ids,tvl:h.plus(x).toFixed(0)};j=[],m=Object(Fe.a)(l),e.prev=35,m.s();case 37:if((y=m.n()).done){e.next=64;break}return O=y.value,e.next=41,He(O,d[O.farm_id],c[O.seed_id],s,o[O.reward_token],t[O.seed_id],We(O.farm_id));case 41:if(v=e.sent,!R.a.isSignedIn()){e.next=48;break}return e.next=45,Object(Ee.g)({accountId:i,farmId:O.farm_id});case 45:e.t2=e.sent,e.next=49;break;case 48:e.t2="0";case 49:if(w=e.t2,!R.a.isSignedIn()){e.next=56;break}return e.next=53,Object(Ee.f)({accountId:i});case 53:e.t3=e.sent,e.next=57;break;case 56:e.t3="0";case 57:S=e.t3,k="0"!==w?new De.BigNumber(w).dividedBy(new De.BigNumber(10).pow(18)).dividedBy(s["wrap_near-aromankov.testnet"]).toFixed(2):"0",F=!1;try{F=!!R.a.isSignedIn()&&!new De.BigNumber(S).isZero()}catch(g){console.log(g)}j.push(Object(C.a)(Object(C.a)({},v),{},{strategyInProgress:F,strategyInitialDeposit:new De.BigNumber(S||"0").dividedBy(new De.BigNumber(10).pow(24)).toFixed(2),unclaimedReward:k}));case 62:e.next=37;break;case 64:e.next=69;break;case 66:e.prev=66,e.t4=e.catch(35),m.e(e.t4);case 69:return e.prev=69,m.f(),e.finish(69);case 72:return e.abrupt("return",j);case 73:case"end":return e.stop()}}),e,null,[[35,66,69,72]])})));return function(){return e.apply(this,arguments)}}();var Ue=function(e){return e.sort((function(e,t){return"active"===e.status?-1:1}))},Pe=n(525),Ve=n(524),$e=function(e){var t=e.token,n=e.style;return Object(r.useMemo)((function(){switch(t){case"REF":case"REF-NEAR":return Object(P.jsx)("img",{style:n,src:"./icons/ref.png",height:28,width:28});case"NEAR":return Object(P.jsx)("img",{style:n,src:"./icons/near.png",height:28,width:28});case"USDC":return Object(P.jsx)("img",{style:n,src:"./icons/usdc.svg",height:28,width:28});case"USDT":return Object(P.jsx)("img",{style:n,src:"./icons/usdt.png",height:28,width:28});case"Metapool stNEAR":return Object(P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 67.79 67.79",width:"28",height:"28",version:"1.1",children:[Object(P.jsx)("path",{fill:"#fff",d:"M33.934.311a33.9 33.9 0 1 0 33.89 33.9 33.9 33.9 0 0 0-33.89-33.9z",id:"path505"}),Object(P.jsx)("path",{stroke:"none",fill:"#ffbd00",strokeWidth:"1px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1,fillOpacity:1,d:"m11.803 27.8 12.387.359 2.361 5.959 7.616 3.31 8.523-3.322 2.348-5.87 12.269.03L54.822 54.2 31.837 58.86 12.89 52.648z",id:"path1051"}),Object(P.jsx)("path",{stroke:"none",fill:"#a0a0ff",strokeWidth:"1px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1,fillOpacity:1,d:"m34.657 12.575-10.43 9.633 1.096 10.01 8.844 5.21 9.785-5.287 1.086-11.33z",id:"path1815"}),Object(P.jsx)("path",{id:"path928",fill:"#666",fillOpacity:1,d:"M33.928 4.282a29.93 29.93 0 0 1 4.682.367 29.93 29.93 0 0 1 25.244 29.572 29.93 29.93 0 0 1-29.92 29.92 29.93 29.93 0 0 1-.006-59.86zm.729 8.293c-2.03 5.668-8.815 9.76-8.815 14.521 0 4.76 3.912 8.62 8.737 8.62 4.824 0 8.736-3.86 8.736-8.62s-6.707-8.697-8.658-14.521zM37.84 22.67a2.524 2.446 0 0 1 .246.012 2.524 2.446 0 0 1 .246.035 2.524 2.446 0 0 1 .24.059 2.524 2.446 0 0 1 .233.08 2.524 2.446 0 0 1 .225.104 2.524 2.446 0 0 1 .213.123 2.524 2.446 0 0 1 .197.142 2.524 2.446 0 0 1 .183.162 2.524 2.446 0 0 1 .168.178 2.524 2.446 0 0 1 .147.191 2.524 2.446 0 0 1 .127.207 2.524 2.446 0 0 1 .105.217 2.524 2.446 0 0 1 .084.227 2.524 2.446 0 0 1 .06.232 2.524 2.446 0 0 1 .038.237 2.524 2.446 0 0 1 .012.24 2.524 2.446 0 0 1-.086.633 2.524 2.446 0 0 1-.252.59 2.524 2.446 0 0 1-.403.507 2.524 2.446 0 0 1-.521.389 2.524 2.446 0 0 1-.61.244 2.524 2.446 0 0 1-.652.084 2.524 2.446 0 0 1-.654-.084 2.524 2.446 0 0 1-.607-.244 2.524 2.446 0 0 1-.524-.389 2.524 2.446 0 0 1-.4-.508 2.524 2.446 0 0 1-.252-.59 2.524 2.446 0 0 1-.086-.632 2.524 2.446 0 0 1 .086-.633 2.524 2.446 0 0 1 .252-.59 2.524 2.446 0 0 1 .4-.506A2.524 2.446 0 0 1 36.58 23a2.524 2.446 0 0 1 .607-.247 2.524 2.446 0 0 1 .654-.082zM24.19 28.16a16.579 2.485 0 0 0-6.502 1.965 16.579 2.485 0 0 0 7.635 2.093 10.483 10.6 0 0 1-1.133-4.058zm20.848.078a10.483 10.6 0 0 1-1.086 3.904 16.579 2.485 0 0 0 6.894-2.017 16.579 2.485 0 0 0-5.808-1.887zm6.925 3.21c-.455 1.177-4.097 2.154-9.273 2.659a10.483 10.6 0 0 1-8.072 3.861 10.483 10.6 0 0 1-8.067-3.85c-5.276-.506-8.978-1.498-9.398-2.64h-.049v5.17h.049a.69.69 0 0 0-.049.24c0 1.8 7.81 3.25 17.43 3.25 9.62 0 17.43-1.45 17.43-3.25a.69.69 0 0 0 0-.24zm.032 7.323c-.67 1.73-8.22 3.03-17.43 3.03-9.23 0-16.771-1.34-17.381-3h-.049v5.17h.049a.69.69 0 0 0-.049.24c0 1.8 7.81 3.25 17.43 3.25 9.62 0 17.43-1.45 17.43-3.25a.69.69 0 0 0 0-.24zm0 7.21c-.67 1.69-8.22 3.03-17.43 3.03-9.23 0-16.771-1.34-17.381-3h-.049v5.17h.049a.69.69 0 0 0-.049.24c0 1.8 7.81 3.25 17.43 3.25 9.62 0 17.43-1.45 17.43-3.25a.69.69 0 0 0 0-.24z"})]});default:return Object(P.jsx)("img",{style:n,src:"",height:28,width:28})}}),[n,t])},Ze=function(){return Object(P.jsx)("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(P.jsx)("path",{d:"M6.93754 0.889572H0.872005C0.4372 0.889572 0.0893555 1.27031 0.0893555 1.74623V10.2415C0.0893555 10.7174 0.4372 11.0981 0.872005 11.0981H6.94841C7.38321 11.0981 7.73106 10.7174 7.73106 10.2415V1.74623C7.72018 1.27031 7.37234 0.889572 6.93754 0.889572ZM2.66558 9.25393C2.66558 9.36101 2.57861 9.4562 2.48078 9.4562H1.50247C1.40464 9.4562 1.31768 9.36101 1.31768 9.25393V8.1831C1.31768 8.07602 1.40464 7.98083 1.50247 7.98083H2.48078C2.57861 7.98083 2.66558 8.07602 2.66558 8.1831V9.25393ZM2.66558 7.17176C2.66558 7.27885 2.57861 7.37403 2.48078 7.37403H1.50247C1.40464 7.37403 1.31768 7.27885 1.31768 7.17176V6.10094C1.31768 5.99385 1.40464 5.89867 1.50247 5.89867H2.48078C2.57861 5.89867 2.66558 5.99385 2.66558 6.10094V7.17176ZM4.57872 9.25393C4.57872 9.36101 4.49176 9.4562 4.39393 9.4562H3.41561C3.31778 9.4562 3.23082 9.36101 3.23082 9.25393V8.1831C3.23082 8.07602 3.31778 7.98083 3.41561 7.98083H4.39393C4.49176 7.98083 4.57872 8.07602 4.57872 8.1831V9.25393ZM4.57872 7.17176C4.57872 7.27885 4.49176 7.37403 4.39393 7.37403H3.41561C3.31778 7.37403 3.23082 7.27885 3.23082 7.17176V6.10094C3.23082 5.99385 3.31778 5.89867 3.41561 5.89867H4.39393C4.49176 5.89867 4.57872 5.99385 4.57872 6.10094V7.17176ZM6.49186 9.25393C6.49186 9.36101 6.4049 9.4562 6.30707 9.4562H5.32876C5.23093 9.4562 5.14397 9.36101 5.14397 9.25393V8.1831C5.14397 8.07602 5.23093 7.98083 5.32876 7.98083H6.30707C6.4049 7.98083 6.49186 8.07602 6.49186 8.1831V9.25393ZM6.49186 7.17176C6.49186 7.27885 6.4049 7.37403 6.30707 7.37403H5.32876C5.23093 7.37403 5.14397 7.27885 5.14397 7.17176V6.10094C5.14397 5.99385 5.23093 5.89867 5.32876 5.89867H6.30707C6.4049 5.89867 6.49186 5.99385 6.49186 6.10094V7.17176ZM6.85057 4.55418C6.85057 4.66127 6.76361 4.75645 6.66578 4.75645H1.14376C1.04593 4.75645 0.958966 4.66127 0.958966 4.55418V2.43632C0.958966 2.32924 1.04593 2.23406 1.14376 2.23406H6.67665C6.77448 2.23406 6.86144 2.32924 6.86144 2.43632V4.55418H6.85057Z",fill:"#0097A7"})})},qe=a.a.memo(Ze),Je=n(515),Ke=function(e){var t=e.days,n=e.apr,a=e.amount,i=e.amountErrorMessage,o=e.onDaysChange,c=Object(r.useCallback)((function(e,t){Number(t)&&o(t.toString())}),[o]),s=Object(r.useMemo)((function(){return void 0===i&&Number(a)?(Number(a)*n*t/365/100*I.getState().balance.rate).toFixed(2):0}),[a,i,n,t]);return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)("div",{style:{color:"#2D2D2D",fontSize:14,fontStyle:"normal",fontWeight:500,lineHeight:"26px",opacity:.5},children:"Days"}),Object(P.jsx)("div",{style:{color:"#2D2D2D",fontSize:14,fontStyle:"normal",fontWeight:500,lineHeight:"26px",opacity:.5,width:160},children:"Profit"})]}),Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Object(P.jsxs)("div",{style:{flexDirection:"column",flexGrow:1,marginRight:22},children:[Object(P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)("div",{style:{color:"#2D2D2D",fontSize:12,fontStyle:"normal",fontWeight:"normal",lineHeight:"26px",opacity:.3},children:"1"}),Object(P.jsx)("div",{style:{color:"#2D2D2D",fontSize:12,fontStyle:"normal",fontWeight:"normal",lineHeight:"26px",opacity:.3},children:"90"})]}),Object(P.jsx)("div",{style:{marginLeft:4,marginRight:6},children:Object(P.jsx)(Je.a,{defaultValue:1,onChange:c,min:1,max:90,size:"small",step:1,"aria-label":"Default",valueLabelDisplay:"auto"})})]}),Object(P.jsx)("div",{style:{backgroundColor:"#383838",border:"1px solid #413F3F",borderRadius:5,boxShadow:"inset 0px 4px 4px #383030",boxSizing:"border-box",display:"flex",height:33,justifyContent:"center",minWidth:160,paddingTop:4},children:Object(P.jsx)("div",{style:{color:"#FFFFFF",fontSize:12,fontStyle:"normal",fontWeight:"bold",lineHeight:"26px"},children:"$ ".concat(s)})})]})]})},Ge=a.a.memo(Ke),Xe=function(e){var t=e.amount,n=e.onAmountChange,a=e.errorMessage,i=Object(r.useCallback)((function(e){n(e.target.value)}),[n]),o=Object(r.useMemo)((function(){return void 0===a&&Number(t)?(Number(t)*I.getState().balance.rate).toFixed(2):0}),[t,a]);return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{style:{color:"#2D2D2D",fontSize:14,fontStyle:"normal",fontWeight:500,lineHeight:"26px",opacity:.5},children:"Deposit"}),Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)("input",{value:t,onChange:i,style:{backgroundColor:"#FFFFFF",border:"1px solid #DDDDDD",borderRadius:5,boxSizing:"border-box",flexGrow:1,fontSize:12,fontStyle:"normal",fontWeight:"normal",height:33,lineHeight:"26px",maxLines:1,overflowX:"scroll",paddingLeft:14,paddingRight:14,resize:"none",whiteSpace:"nowrap"},placeholder:"NEAR"}),Object(P.jsx)("div",{style:{border:"1px solid #000000",margin:"0px 6px 0px 6px ",opacity:.2,width:13}}),Object(P.jsx)("div",{style:{backgroundColor:"#383838",border:"1px solid #413F3F",borderRadius:5,boxShadow:"inset 0px 4px 4px #383030",boxSizing:"border-box",display:"flex",height:33,justifyContent:"center",minWidth:160,paddingTop:4},children:Object(P.jsx)("div",{style:{color:"#FFFFFF",fontSize:12,fontStyle:"normal",fontWeight:"bold",lineHeight:"26px"},children:"$ ".concat(o)})})]}),a&&Object(P.jsx)("div",{style:{color:"red",fontSize:11,fontStyle:"normal",fontWeight:500,lineHeight:"26px",opacity:.5},children:a})]})},Ye=a.a.memo(Xe),Qe=function(e){var t=e.pair,n=e.apr;return Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex"},children:[Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)("div",{style:{fontSize:20,fontStyle:"normal",fontWeight:500,lineHeight:"26px"},children:"".concat(t.first,"-").concat(t.second)}),Object(P.jsxs)("div",{style:{marginLeft:"24px"},children:[Object(P.jsx)($e,{token:t.first}),Object(P.jsx)($e,{style:{marginLeft:10,marginRight:32},token:t.second})]})]}),Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)("div",{style:{border:"1px solid #000000",height:26,opacity:.2}}),Object(P.jsx)("div",{style:{display:"flex",fontSize:"20px",fontStyle:"normal",fontWeight:500,justifyContent:"center",lineHeight:"26px",minWidth:160},children:"APR: ".concat(n,"%")})]})]})},et=a.a.memo(Qe),tt=function(e){var t=e.token,n=e.apr;return Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between",width:"100%"},children:[Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between",marginRight:20,minWidth:180},children:[Object(P.jsx)("div",{style:{fontSize:20,fontStyle:"normal",fontWeight:500,lineHeight:"26px",paddingRight:"8px"},children:"".concat(t)}),Object(P.jsx)($e,{token:t})]}),Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)("div",{style:{border:"1px solid #000000",height:26,opacity:.2}}),Object(P.jsx)("div",{style:{display:"flex",fontSize:"20px",fontStyle:"normal",fontWeight:500,justifyContent:"center",lineHeight:"26px",minWidth:160},children:"APR: ".concat(n,"%")})]})]})},nt=a.a.memo(tt),rt=X.b().shape({amount:X.a().typeError("Invalid amount!").min(.01,"Min amount 0.01 NEAR").max(10,"Max amount 10 NEAR"),days:X.a().min(1,"Too Short!").max(90,"Too Long!")}),at=function(e){var t=e.strategy,n=e.onClose,i=e.onStartStrategy,o=Object(r.useCallback)((function(){switch(t._type){case"stake":return Object(P.jsx)(nt,{token:t.token,apr:t.apr});case"farm":return Object(P.jsx)(et,{pair:t.pair,apr:t.apr})}}),[t]),c=Object(r.useCallback)((function(e){var t=e.amount,n=e.strategyId;i(t,String(n))}),[i]);return Object(P.jsx)(a.a.Fragment,{children:Object(P.jsx)(G.b,{initialValues:{amount:"",days:1,strategyId:t.id},validationSchema:rt,onSubmit:c,children:function(e){var r=e.errors,a=(e.touched,e.values),i=e.handleChange,c=e.handleSubmit;return Object(P.jsxs)("div",{style:{backgroundColor:"#E9EDF0",border:"1px solid #E9EDF0",borderRadius:10,boxShadow:"0px 4px 10px rgba(204, 204, 204, 0.25)",boxSizing:"border-box",left:"50%",paddingBottom:26,paddingTop:28,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"auto"},children:[Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between",paddingLeft:39,paddingRight:18},children:[Object(P.jsx)("div",{style:{color:"#2D2D2D",fontSize:20,fontStyle:"normal",fontWeight:"bold",lineHeight:"26px"},children:"Farming"}),Object(P.jsx)(L.a,{onClick:n,"aria-label":"delete",size:"small",children:Object(P.jsx)(Q,{})})]}),Object(P.jsx)("div",{style:{border:"1px solid #000000",margin:"10px 0px 20px 0px ",opacity:.2}}),Object(P.jsxs)(G.a,{children:[Object(P.jsxs)("div",{style:{paddingLeft:39,paddingRight:39},children:[o(),Object(P.jsx)(it,{}),Object(P.jsx)(Ye,{amount:a.amount,onAmountChange:i("amount"),errorMessage:r.amount}),Object(P.jsx)(it,{}),Object(P.jsx)(Ge,{days:a.days,apr:Number(t.apr),amount:a.amount,amountErrorMessage:r.amount,onDaysChange:i("days")})]}),R.a.isSignedIn()&&Object(P.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:26},children:"active"==t.status&&I.getState().balance.balance>0&&Object(P.jsx)(ot,{onClick:function(){return c()},children:"Start"})})]})]})}})})},it=function(){return Object(P.jsx)("div",{style:{border:"1px solid #000000",margin:"10px 0px 13px 0px ",opacity:.05}})},ot=Object(J.a)(K.a)({backgroundColor:"#0097A7",borderRadius:20,color:"#FFFFFF",fontSize:"12px",fontStyle:"normal",fontWeight:"bold",height:33,lineHeight:"26px",marginRight:"8px",padding:"6px",textTransform:"none",width:110}),ct=a.a.memo(at),st=n(507),lt=function(e){var t=e.strategy,n=e.onStartStrategy,a=e.onStopStrategy,i=Object(r.useState)(!1),o=Object(z.a)(i,2),c=o[0],s=o[1],l=Object(r.useCallback)((function(){s(!0)}),[]),d=Object(r.useCallback)((function(){s(!1)}),[]),u=Object(r.useCallback)((function(){a(String(t.id))}),[a,t.id]);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)("div",{style:{color:"#2D2D2D",fontSize:"20px",fontStyle:"normal",fontWeight:"bold",lineHeight:"26px",marginLeft:"14px"},children:t.provider}),Object(P.jsxs)(N.a,{children:[Object(P.jsx)(dt,{onClick:l,variant:"text",startIcon:Object(P.jsx)(qe,{}),children:"Estimate"}),"in-progress"==t.status&&Object(P.jsx)(ut,{startIcon:Object(P.jsx)(st.a,{sx:{height:"18px",width:"18px"}}),onClick:u,children:"Finish"})]})]}),Object(P.jsx)("div",{style:{border:"1px solid #000000",margin:"10px 14px 30px 14px ",opacity:.1}}),Object(P.jsx)(oe.a,{open:c,onClose:d,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:Object(P.jsx)(ct,{strategy:t,onClose:d,onStartStrategy:n})})]})},dt=Object(J.a)(K.a)({color:"#0097A7",fontSize:"12px",fontStyle:"normal",fontWeight:"bold",lineHeight:"26px",marginRight:"8px",padding:"6px",textTransform:"none"}),ut=Object(J.a)(K.a)({color:"black",fontSize:"12px",fontStyle:"normal",fontWeight:"bold",lineHeight:"26px",marginLeft:"4px",marginRight:"8px",padding:"6px",textTransform:"none"}),pt=a.a.memo(lt),ft=n(508),bt=function(e){var t=e.depositAmount,n=e.profitAmount;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{style:{border:"1px solid #000000",margin:"30px 14px 18px 14px ",opacity:.1}}),Object(P.jsxs)(N.a,{sx:{display:"flex",justifyContent:"space-between",ml:"14px",mr:"20px",mt:"12px"},children:[Object(P.jsx)(T.a,{disableFocusListener:!0,title:"Deposited",placement:"bottom",children:Object(P.jsx)("div",{children:Object(P.jsx)(ht,{icon:Object(P.jsx)(Z.a,{fontSize:"large"}),amount:t})})}),Object(P.jsx)(T.a,{title:"Profit",placement:"bottom",children:Object(P.jsx)("div",{children:Object(P.jsx)(ht,{icon:Object(P.jsx)(ft.a,{fontSize:"large"}),amount:n})})})]})]})},ht=function(e){var t=e.icon,n=e.amount,a=fe().balance,i=Object(r.useMemo)((function(){return new Ae.a(n).gt(0)?new Ae.a(n).multipliedBy(a).toFixed(2):"0"}),[n,a]);return Object(P.jsxs)(N.a,{sx:{alignItems:"center",display:"flex"},children:[Object(P.jsx)(N.a,{sx:{alignItems:"center",mr:2},children:t}),Object(P.jsxs)("div",{style:{flexDirection:"column"},children:[Object(P.jsx)("div",{style:{fontSize:14,fontStyle:"normal",fontWeight:"bold",lineHeight:"20px",textAlign:"start",textTransform:"uppercase"},children:"".concat(n," NEAR")}),Object(P.jsx)("div",{style:{fontSize:12,fontStyle:"normal",fontWeight:500,lineHeight:"26px",opacity:.5,textAlign:"start"},children:"$".concat(i," USD")})]})]})},xt=a.a.memo(bt),jt=function(e){var t=e.farm,n=Object(r.useMemo)((function(){switch(t.status){case"in-progress":return"#00D254";case"active":return"#00ADD2";case"soon":return"#F0B622"}}),[t.status]),a=Object(c.b)(),i=Object(r.useCallback)((function(e,t){console.log("onStartStrategy ".concat(e," - ").concat(t)),a(h({amount:e,strategyId:t}))}),[a]),o=Object(r.useCallback)((function(e){console.log("onStopStrategy ".concat(e)),a(x({strategyId:e}))}),[a]);return Object(P.jsxs)(Ve.a,{sx:{borderBlock:"solid",borderColor:"#ECECEC",borderRadius:"10px",borderWidth:"1px",boxShadow:"0px 4px 20px rgba(103, 103, 103, 0.25)",mt:3,overflow:"hidden",position:"relative",width:400},children:[Object(P.jsx)(N.a,{sx:{backgroundColor:n,height:"8px",width:"100%"}}),"soon"===t.status&&Object(P.jsx)("div",{style:{left:"50%",position:"absolute",top:0,transform:"translate(-50%)"},children:Object(P.jsx)("div",{style:{backgroundColor:"#F0B622",borderRadius:6,color:"#FFFFFF",fontSize:13,fontStyle:"normal",fontWeight:500,lineHeight:"26px",marginLeft:5,paddingLeft:8,paddingRight:8},children:"Coming soon"})}),Object(P.jsxs)(N.a,{sx:{pb:"34px",pt:"12px"},children:[Object(P.jsx)(pt,{strategy:t,onStartStrategy:i,onStopStrategy:o}),Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex"},children:[Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between",marginLeft:14,marginRight:20,width:200},children:[Object(P.jsx)("div",{style:{fontSize:20,fontStyle:"normal",fontWeight:500,lineHeight:"26px"},children:"".concat(t.pair.first,"-").concat(t.pair.second)}),Object(P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:66},children:[Object(P.jsx)($e,{token:t.pair.first}),Object(P.jsx)($e,{token:t.pair.second})]})]}),Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)("div",{style:{border:"1px solid #000000",height:26,opacity:.2}}),Object(P.jsx)("div",{style:{display:"flex",fontSize:"20px",fontStyle:"normal",fontWeight:500,justifyContent:"center",lineHeight:"26px",width:160},children:"APR: ".concat(t.apr,"%")})]})]}),"in-progress"===t.status&&Object(P.jsx)(xt,{depositAmount:t.depositAmount,profitAmount:t.profitAmount})]})]})},mt=a.a.memo(jt);var gt=function(e){var t=e.stake,n=Object(r.useMemo)((function(){switch(t.status){case"in-progress":return"#00D254";case"active":return"#00ADD2";case"soon":return"#F0B622"}}),[t.status]),a=Object(c.b)(),i=Object(r.useCallback)((function(e,t){a(h({amount:e,strategyId:t}))}),[a]),o=Object(r.useCallback)((function(e){a(h({strategyId:e}))}),[a]);return Object(P.jsxs)(Ve.a,{sx:{borderBlock:"solid",borderColor:"#ECECEC",borderRadius:"10px",borderWidth:"1px",boxShadow:"0px 4px 20px rgba(103, 103, 103, 0.25)",mt:3,overflow:"hidden",position:"relative",width:400},children:[Object(P.jsx)(N.a,{sx:{backgroundColor:n,height:"8px",width:"100%"}}),Object(P.jsxs)(N.a,{sx:{pb:"34px",pt:"12px"},children:[Object(P.jsx)(pt,{strategy:t,onStartStrategy:i,onStopStrategy:o}),Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex"},children:[Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between",marginLeft:14,marginRight:20,width:200},children:[Object(P.jsx)("div",{style:{fontSize:20,fontStyle:"normal",fontWeight:500,lineHeight:"26px"},children:"".concat(t.token)}),Object(P.jsx)($e,{token:t.token})]}),Object(P.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)("div",{style:{border:"1px solid #000000",height:26,opacity:.2}}),Object(P.jsx)("div",{style:{display:"flex",fontSize:"20px",fontStyle:"normal",fontWeight:500,justifyContent:"center",lineHeight:"26px",width:160},children:"APR: ".concat(t.apr,"%")})]})]}),"in-progress"===t.status&&Object(P.jsx)(xt,{depositAmount:t.depositAmount,profitAmount:t.profitAmount})]})]})},yt=a.a.memo(gt),Ot=function(){var e=function(){var e=Object(r.useState)([]),t=Object(z.a)(e,2),n=t[0],a=t[1],i=Object(r.useCallback)((function(e){console.log(e);var t,n=Be.a.activeFarms;return t=e.strategyInProgress?"in-progress":n.includes(e.farm_id)?"active":"soon",{_type:"farm",apr:e.apr,depositAmount:e.strategyInitialDeposit||"0",id:e.farm_id,pair:{first:e.pool.token_symbols[0].split("-")[0].replace("wrap_","").toUpperCase(),second:e.pool.token_symbols[1].split("-")[0].replace("wrap_","").toUpperCase()},profitAmount:e.unclaimedReward,provider:"REF Farming",status:t}}),[]);return Object(r.useEffect)((function(){function e(){return(e=Object(y.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)();case 2:return t=e.sent,I.dispatch(k(t.near.usd)),e.next=6,Me();case 6:n=e.sent,a(Ue(n.map(i)));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}0===n.length&&function(){e.apply(this,arguments)}()}),[n,i]),{farms:n}}(),t=e.farms,n=function(){var e=Object(r.useState)([{_type:"stake",apr:"10.5",depositAmount:"12",id:1,profitAmount:"9",provider:"Staking",status:"soon",token:"Metapool stNEAR"},{_type:"stake",apr:"50.34",depositAmount:"7",id:2,profitAmount:"3",provider:"REF Farming",status:"soon",token:"REF-NEAR"}]),t=Object(z.a)(e,2),n=t[0];return t[1],{stakes:n}}(),a=n.stakes,i=Object(r.useCallback)((function(e){switch(e._type){case"stake":return Object(P.jsx)(yt,{stake:e});case"farm":return Object(P.jsx)(mt,{farm:e})}}),[]);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(N.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(P.jsx)(vt,{color:"#00D254",label:"In progress"}),Object(P.jsx)(vt,{color:"#00ADD2",label:"Open"}),Object(P.jsx)(vt,{color:"#F0B622",label:"Coming soon"})]}),t.length>0?Object(P.jsx)(N.a,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",mb:2.5},children:[].concat(Object(ke.a)(t),Object(ke.a)(a)).map((function(e,t){return Object(P.jsx)(N.a,{sx:{mx:2.5},children:i(e)},e.id)}))}):Object(P.jsx)("div",{style:{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minWidth:960},children:Object(P.jsx)(Pe.a,{color:"success"})})]})},vt=function(e){var t=e.color,n=e.label;return Object(P.jsxs)(N.a,{sx:{alignItems:"center",display:"flex",ml:4},children:[Object(P.jsx)("div",{style:{backgroundColor:t,borderRadius:10,height:15,width:15}}),Object(P.jsx)("div",{style:{color:"#2D2D2D",fontSize:11,fontStyle:"normal",fontWeight:500,lineHeight:"26px",marginLeft:5,opacity:.4},children:" \u2014 ".concat(n)})]})},wt=a.a.memo(Ot),Ct=Object(D.a)({palette:{primary:{contrastText:"#000",dark:"#808e95",light:"#e2f1f8",main:"#B0BEC5"},secondary:{contrastText:"#000",dark:"#009faf",light:"#88ffff",main:"#4DD0E1"}}}),St=function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(N.a,{sx:{backgroundColor:"#0097A7",borderBottomLeftRadius:"10px",borderTopLeftRadius:"10px",height:"auto",maxHeight:"100%",maxWidth:420,minWidth:360,overflow:"hidden",px:5,py:8},children:Object(P.jsx)(Se,{})}),Object(P.jsx)(N.a,{sx:{backgroundColor:"#F8F8F8",borderBottomRightRadius:"10px",borderTopRightRadius:"10px",height:"auto",maxHeight:"100%",maxWidth:960,minWidth:520,overflowY:"auto",px:5,py:4},children:Object(P.jsx)(wt,{})})]})},kt=function(){return Object(P.jsx)(N.a,{sx:{backgroundColor:"#F8F8F8",borderRadius:"10px",gridArea:"page",height:"auto",maxHeight:"100%",maxWidth:960,minWidth:520,overflowY:"auto",px:5,py:4},children:Object(P.jsx)(wt,{})})},Ft=function(){return Object(P.jsx)(A.a,{theme:Ct,children:Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(_.a,{}),Object(P.jsxs)(N.a,{sx:{display:"grid",gridTemplateAreas:'"header header"\n          "page page"',gridTemplateRows:"1fr 6fr",height:"100%",justifyContent:"center",overflow:"hidden",pb:10,px:5,width:"100%"},children:[Object(P.jsx)(N.a,{sx:{gridArea:"header",maxWidth:1380},children:Object(P.jsx)(Oe,{})}),Object(P.jsx)(N.a,{sx:{borderRadius:"10px",display:"flex",gridArea:"page",height:"100%",justifyContent:"center",overflow:"hidden",width:"100%"},children:R.a.isSignedIn()?Object(P.jsx)(St,{}):Object(P.jsx)(kt,{})})]})]})})},It=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,526)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};o.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(c.a,{store:I,children:Object(P.jsx)(Ft,{})})}),document.getElementById("root")),It()},72:function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return w}));var r=n(11),a=n.n(r),i=n(25),o=n(31),c=n(32),s=n(47),l=n(48),d=n(51),u=n(62),p=n.n(u),f=n(90),b=n(52),h=n(99),x=n(143),j=n(26),m=new b.Near(Object(d.a)({keyStore:new b.keyStores.InMemoryKeyStore},j.a)),g=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"_checkConnectedAccount",value:function(){this._connectedAccount||(this._connectedAccount=new C(this,this._near.connection,this._authData.accountId))}},{key:"account",value:function(){return this._checkConnectedAccount(),this._connectedAccount}},{key:"createTransaction",value:function(e){var t=e.receiverId,n=e.actions,r=e.nonceOffset,a=void 0===r?1:r;return this._checkConnectedAccount(),this._connectedAccount.createTransaction({receiverId:t,actions:n,nonceOffset:a})}}]),n}(b.WalletConnection),y=new g(m,j.a.depositiumContractId),O=function(e,t){var n=t.methodName,r=t.args;return y.account().viewFunction(e,n,r)},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.getAccountId();return O(e,{args:{account_id:t},methodName:"storage_balance_of"})},w=function(){var e=Object(i.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e,t){return y.createTransaction({actions:e.functionCalls.map((function(e){return Object(h.functionCall)(e.methodName,e.args,(n=e.gas)?new p.a(n):new p.a("100000000000000"),(t=e.amount)?new p.a(b.utils.format.parseNearAmount(t)):new p.a("0"));var t,n})),nonceOffset:t+1,receiverId:e.receiverId})})));case 2:return r=e.sent,e.abrupt("return",y.requestSignTransactions(r,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"sendTransactionWithActions",value:function(){var e=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signAndSendTransaction(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createTransaction",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i,o,c,s,l,d,u,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.receiverId,r=t.actions,i=t.nonceOffset,o=void 0===i?1:i,e.next=3,this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);case 3:return c=e.sent,e.next=6,this.accessKeyForTransaction(n,r,c);case 6:if(s=e.sent){e.next=9;break}throw new Error("Cannot find matching key for transaction sent to ".concat(n));case 9:return e.next=11,this.connection.provider.block({finality:"final"});case 11:return l=e.sent,d=Object(f.baseDecode)(l.header.hash),u=x.PublicKey.from(s.public_key),p=s.access_key.nonce+o,e.abrupt("return",Object(h.createTransaction)(this.accountId,u,n,p,r,d));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(b.ConnectedWalletAccount)},95:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return x}));var r=n(11),a=n.n(r),i=n(25),o=n(42),c=n(33),s=n(26),l=function(t){var n=t.methodName,r=t.args,a=void 0===r?{}:r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a.farmingContractId;return o.c.connection.provider.query({account_id:i,args_base64:e.from(JSON.stringify(a)).toString("base64"),finality:"final",method_name:n,request_type:"call_function"}).then((function(t){var n=t.result;return JSON.parse(e.from(n).toString())}))},d=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({args:{from_index:0,limit:100},methodName:"list_seeds"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({args:{from_index:0,limit:100},methodName:"list_farms"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({args:{from_index:0,limit:100},methodName:"get_pools"},s.a.financeContractId);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountId,r=void 0===n?c.a.getAccountId():n,e.abrupt("return",l({args:{account_id:r},methodName:"list_rewards"},s.a.farmingContractId));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountId,r=void 0===n?c.a.getAccountId():n,e.next=3,l({args:{account_id:r},methodName:"list_user_seeds"},s.a.farmingContractId);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.farmId,r=t.accountId,i=void 0===r?c.a.getAccountId():r,e.next=3,l({args:{account_id:i,farm_id:n},methodName:"get_unclaimed_reward"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accountId,r=void 0===n?c.a.getAccountId():n,e.next=3,l({args:{sub_account_id:r},methodName:"get_strategy_deposit"},s.a.depositiumContractId);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(66).Buffer)}},[[455,1,2]]]);
//# sourceMappingURL=main.9942517f.chunk.js.map