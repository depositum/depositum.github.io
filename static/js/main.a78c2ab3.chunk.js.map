{"version":3,"sources":["features/providers/priceAPI.js","features/providers/contractAPI.js","config.js","api/WalletAPI.js","features/strategyItem/strategyItemSlice.js","features/providers/priceSlice.js","store/reducers/Balance/action.ts","store/reducers/Balance/reducer.ts","store/reducers/Balance/state.ts","store.ts","icons/BottomArrowIcon.tsx","icons/CloseIcon.tsx","modals/DepositModal/DepositCalculateBlock.tsx","modals/DepositModal/DepositModal.tsx","login/ProfileItem.tsx","components/ConnectWallet/ConnectWallet.tsx","components/Header/Header.tsx","components/Balance/Balance.tsx","hooks/useNearBalance.ts","utils/RefApiUtils.js","api/RefAPI.js","hooks/useFarmsList.ts","components/TokenIcon.tsx","icons/CalculatorIcon.tsx","modals/CalculatorModal/CalculatorProfitBlock.tsx","modals/CalculatorModal/CalculatorDepositBlock.tsx","modals/CalculatorModal/CalculatorFarmInfo.tsx","modals/CalculatorModal/CalculatorStakeInfo.tsx","modals/CalculatorModal/CalculatorModal.tsx","components/Strategy/StrategyTitle.tsx","components/Strategy/StrategyProfit.tsx","features/strategies/FarmingItem.tsx","features/strategies/StakingItem.tsx","features/strategies/StrategiesList.tsx","hooks/useStakesList.ts","App.tsx","reportWebVitals.js","index.js","api/NearAPI.js","api/token.js","contract/RefContractView.js"],"names":["view","methodName","args","nearAPITestnet","connection","provider","query","account_id","config","financeContractId","args_base64","Buffer","from","JSON","stringify","toString","finality","method_name","request_type","then","result","parse","fetchPricesFromREF","a","pool_id","res","usdtAmount","Decimal","amounts","div","pow","nearAmount","nearPrice","toFixed","contractId","nearAPI","nearAPIMainnet","fetchAccountBalance","console","log","depositiumContractId","walletAPI","account","acc","accountId","balances","token","balance","process","explorerUrl","helperUrl","indexerUrl","networkId","nodeUrl","walletUrl","wrapNearContractId","farmingContractId","activeFarms","split","availableFarms","WalletConnection","calculateProfit","apr","days","depositAmount","err","times","strategyItemSlice","createSlice","initialState","f_ref_near","depositAmountUSD","profit","profitUSD","f_usdt_near","name","reducers","changeDays","state","action","payload","value","strategy","strategyId","changeDepositAmount","startStrategy","amount","startStrategyApiCall","catch","actions","fetchPricesAsync","createAsyncThunk","response","priceSlice","extraReducers","builder","addCase","pending","status","fulfilled","updateBalance","createAction","updateRate","balanceReducer","rate","reducer","store","configureStore","prices","priceProviderReducer","strategyItem","strategyItemReducer","BottomArrowIcon","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","React","memo","CloseIcon","DepositCalculateBlock","onAmountChange","errorMessage","onChange","useCallback","event","target","amountFiat","useMemo","undefined","Number","getState","style","alignItems","display","justifyContent","backgroundColor","border","borderRadius","boxSizing","flexGrow","fontSize","fontStyle","fontWeight","lineHeight","maxLines","overflowX","paddingLeft","paddingRight","resize","whiteSpace","placeholder","margin","opacity","boxShadow","minWidth","paddingTop","color","depositSchema","Yup","shape","typeError","min","max","DepositModal","onClose","onDeposit","onSubmit","Fragment","initialValues","validationSchema","errors","values","touched","handleChange","handleSubmit","left","paddingBottom","position","top","transform","IconButton","onClick","size","marginTop","DepositButton","disabled","length","styled","Button","marginRight","padding","textTransform","ProfileItem","useState","depositModalVisible","setDepositModalVisible","onOpenDepositModal","onCloseDepositModal","wrapNear","anchorEl","setAnchorEl","open","Boolean","onOpenProfile","currentTarget","onCloseProfile","onSignOut","signOut","window","location","reload","Box","sx","textAlign","variant","startIcon","ArrowCircleDown","marginLeft","letterSpacing","Tooltip","title","ml","Avatar","Menu","PaperProps","elevation","mr","bgcolor","content","right","zIndex","filter","mt","overflow","transformOrigin","horizontal","vertical","anchorOrigin","MenuItem","ListItemIcon","Modal","ConnectWallet","requestSignIn","CustomButton","endIcon","src","Header","className","isSignedIn","Balance","px","py","NearBalance","setBalance","setRate","fiatAmount","setFiatAmount","useEffect","dispatch","fetchFiatRate","near","usd","fetchBalanceAndRate","useNearBalance","marginBottom","TokenIcon","tokenIconSrc","formatWithCommas","pattern","test","replace","toPrecision","number","precision","withCommas","atLeastOne","whole","decimal","str","slice","n","lastIndexOf","toReadableNumber","decimals","wholeStr","substring","fractionStr","padStart","getLPTokenId","farm_id","indexOf","getFarmInfo","farm","pool","staked","tokenPriceList","reward","seed","lpTokenId","tvl","poolTvl","poolSts","shares_total_supply","userStaked","rewardToken","price","reward_token","rewardTokenPrice","rewardNumber","totalSeed","seedAmount","rewardNumberPerWeek","math","reward_per_session","session_interval","rewardsPerWeek","BigNumber","userRewardNumberPerWeek","userRewardsPerWeek","totalStaked","multipliedBy","dividedBy","toNumber","gt","farm_status","getStrategyState","farmId","allowedFarms","fetchFarmList","getSeeds","seeds","getFarms","farmList","accoundId","wallet","getAccountId","accoundPrefix","subAccId","getRewardsByAccountId","rewardList","getStakedListByAccountId","stakedList","filteredFarms","f","includes","map","it","poolList","getPools","pools","poolId","token0","token_account_ids","token1","token0Tvl","token1Tvl","token_symbols","plus","farmsInfo","seed_id","push","sortByStatus","farms","sort","b","version","id","strokeLinejoin","strokeOpacity","fillOpacity","CalculatorIcon","CalculatorProfitBlock","onDaysChange","flexDirection","Slider","defaultValue","step","valueLabelDisplay","CalculatorDepositBlock","CalculatorFarmInfo","pair","first","second","CalculatorStakeInfo","calculateSchema","CalculatorModal","onStartStrategy","infoBlock","_type","String","StartButton","BlockDivider","StrategyTitle","calculatorVisible","setCalculatorVisible","onOpenCalculator","onCloseCalculator","CalculateButton","StrategyProfit","profitAmount","label","InfoBlock","FarmingItem","statusColor","useDispatch","Card","borderBlock","borderColor","borderWidth","mb","pb","pt","StakingItem","stake","StrategiesList","setFarms","formatFarmData","rawFarm","toUpperCase","fetchData","useFarmsList","stakes","useStakesList","item","flexWrap","mx","index","CircularProgress","StatusInfo","theme","createTheme","palette","primary","contrastText","dark","light","main","secondary","AuthorizedContent","gridArea","gridTemplateAreas","gridTemplateColumns","maxHeight","overflowY","NotAuthorizedContent","minHeight","App","ThemeProvider","CssBaseline","gridTemplateRows","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","Near","keyStore","keyStores","InMemoryKeyStore","transactions","ftGetStorageBalance","total","gas","utils","format","parseNearAmount","msg","receiver_id","functionCalls","receiverId","executeMultipleTransactions","accound_sub_id","sub_account_id","fetch","headers","method","json","cny","eur","last_updated_at","SpecialWallet","this","_connectedAccount","SpecialWalletAccount","_near","_authData","_checkConnectedAccount","nonceOffset","createTransaction","ftViewFunction","tokenId","viewFunction","callbackUrl","Promise","all","t","i","fc","functionCall","BN","nearTransactions","requestSignTransactions","signAndSendTransaction","signer","getPublicKey","localKey","accessKeyForTransaction","accessKey","Error","block","blockHash","baseDecode","header","hash","publicKey","PublicKey","public_key","nonce","access_key","ConnectedWalletAccount","from_index","limit"],"mappings":"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","file":"static/js/main.a78c2ab3.chunk.js","sourcesContent":["import Decimal from \"decimal.js\";\nimport { nearAPITestnet } from \"../../api/NearAPI\";\nimport config from \"../../config\";\n\nconst NEAR_NOMINATION_EXP = 24; // todo get from lib\n\nconst view = ({ methodName, args = {} }) =>\n  nearAPITestnet.connection.provider\n    .query({\n      account_id: config.financeContractId,\n      args_base64: Buffer.from(JSON.stringify(args)).toString(\"base64\"),\n      finality: \"final\",\n      method_name: methodName,\n      request_type: \"call_function\",\n    })\n    .then(({ result }) => JSON.parse(Buffer.from(result).toString()));\n\n// const NEAR_USDT_POOL_ID = 4;\nconst NEAR_USDT_POOL_ID = 7;\nexport async function fetchPricesFromREF() {\n  const res = await view({\n    args: { pool_id: NEAR_USDT_POOL_ID },\n    methodName: \"get_pool\",\n  });\n  const usdtAmount = new Decimal(res.amounts[0]).div(Decimal.pow(10, 6));\n  const nearAmount = new Decimal(res.amounts[1]).div(\n    Decimal.pow(10, NEAR_NOMINATION_EXP),\n  );\n\n  const nearPrice = usdtAmount.div(nearAmount);\n  // todo calculate fee\n  return new Decimal(nearPrice.toFixed(10));\n}\n","import Decimal from \"decimal.js\";\nimport { nearAPITestnet, nearAPIMainnet } from \"../../api/NearAPI\";\nimport config from \"../../config\";\nimport walletAPI from \"../../api/WalletAPI\";\n\nconst NEAR_NOMINATION_EXP = 24; // todo get from lib\n\nconst view = ({ contractId, methodName, args = {} }) => {\n  let nearAPI = nearAPITestnet;\n\n  if (contractId === config.financeContractId) {\n    nearAPI = nearAPIMainnet;\n  }\n\n  return nearAPI.connection.provider\n    .query({\n      account_id: contractId,\n      args_base64: Buffer.from(JSON.stringify(args)).toString(\"base64\"),\n      finality: \"final\",\n      method_name: methodName,\n      request_type: \"call_function\",\n    })\n    .then(({ result }) => JSON.parse(Buffer.from(result).toString()));\n};\n\nconst NEAR_USDT_POOL_ID = 4;\nexport async function fetchPricesFromREF() {\n  const res = await view({\n    args: { pool_id: NEAR_USDT_POOL_ID },\n    contractId: config.financeContractId,\n    methodName: \"get_pool\",\n  });\n  const usdtAmount = new Decimal(res.amounts[0]).div(Decimal.pow(10, 6));\n  const nearAmount = new Decimal(res.amounts[1]).div(\n    Decimal.pow(10, NEAR_NOMINATION_EXP),\n  );\n\n  const nearPrice = usdtAmount.div(nearAmount);\n  // todo calculate fee\n  return nearPrice.toFixed(10);\n}\n\nexport async function fetchAccountBalance() {\n  console.log(\"fetch balance from contract\", config.depositiumContractId);\n  const acc = await walletAPI.account();\n  const res = await view({\n    args: { account_id: acc.accountId },\n    contractId: config.depositiumContractId,\n    methodName: \"balance_of\",\n  });\n  const balances = {};\n  console.log(\"balances res\", res);\n\n  for (const [token, balance] of res) {\n    balances[token] = new Decimal(balance).div(Decimal.pow(10, 24)).toFixed(2);\n  }\n\n  console.log(\"balances\", balances);\n\n  return balances[\"wrap_near-aromankov.testnet\"] ?? 0;\n}\n","export default {\n  depositiumContractId: process.env.REACT_APP_DEPOSITIUM_CONTRACT_ID,\n  explorerUrl: process.env.REACT_APP_EXPLORER_URL,\n  helperUrl: process.env.REACT_APP_HELPER_URL,\n  indexerUrl: process.env.REACT_APP_INDEXER_URL,\n  networkId: process.env.REACT_APP_NETWORK_ID,\n  nodeUrl: process.env.REACT_APP_NODE_URL,\n  walletUrl: process.env.REACT_APP_WALLET_URL,\n  wrapNearContractId: process.env.REACT_APP_WRAP_NEAR_CONTRACT_ID,\n  financeContractId: process.env.REACT_APP_REF_FINANCE_CONTRACT_ID,\n  farmingContractId: process.env.REACT_APP_FARMING_CONTRACT_ID,\n  activeFarms: process.env.REACT_APP_ACTIVE_FARMS.split(\",\"),\n  availableFarms: process.env.REACT_APP_AVAILABLE_FARMS.split(\",\"),\n};\n","import { nearAPITestnet } from \"./NearAPI\";\nimport { WalletConnection } from \"near-api-js\";\nimport config from \"../config\";\n\nconst walletAPI = new WalletConnection(\n  nearAPITestnet,\n  config.depositiumContractId,\n);\n\nexport default walletAPI;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport Decimal from \"decimal.js\";\nimport { startStrategy as startStrategyApiCall } from \"../../api/NearAPI\";\n\nconst initialState = {\n  f_ref_near: {\n    apr: 54.3,\n    days: 30,\n    depositAmount: \"\",\n    depositAmountUSD: 0,\n    profit: 0,\n    profitUSD: 0,\n  },\n  f_usdt_near: {\n    apr: 94.3,\n    days: 30,\n    depositAmount: \"\",\n    depositAmountUSD: 0,\n    profit: 0,\n    profitUSD: 0,\n  },\n};\n\nconst calculateProfit = (apr, days, depositAmount) => {\n  if (!apr || !days || !depositAmount) {\n    return \"0\";\n  }\n\n  try {\n    new Decimal(depositAmount);\n  } catch (err) {\n    return \"0\";\n  }\n\n  const interestPerDay = new Decimal(apr).div(100).div(\"365\");\n  const res = interestPerDay.times(days).times(depositAmount);\n  return res.toFixed(2);\n};\n\nexport const strategyItemSlice = createSlice({\n  initialState,\n  name: \"strategyItem\",\n  reducers: {\n    changeDays: (state, action) => {\n      const { value, strategyId } = action.payload;\n      const strategy = state[strategyId];\n      strategy.days = value;\n      strategy.profit = calculateProfit(\n        strategy.apr,\n        strategy.days,\n        strategy.depositAmount,\n      );\n    },\n    changeDepositAmount: (state, action) => {\n      const { value, strategyId } = action.payload;\n      const strategy = state[strategyId];\n      strategy.depositAmount = value;\n      strategy.profit = calculateProfit(\n        strategy.apr,\n        strategy.days,\n        strategy.depositAmount,\n      );\n    },\n    startStrategy: (state, action) => {\n      const { strategyId, amount } = action.payload;\n      console.log(\"start strategy\", strategyId);\n      startStrategyApiCall(amount)\n        .then(res => {\n          console.log(\"start strategy res:\", res);\n        })\n        .catch(err => console.log(\"startStrategy err\", err));\n    },\n  },\n});\n\nexport const { changeDepositAmount, changeDays, startStrategy } =\n  strategyItemSlice.actions;\n\nexport const selectStrategyItem = (state, strategyId) =>\n  state.strategyItem[strategyId];\n\nexport const selectDepositAmount = state => state.strategyItem.depositAmount;\nexport const selectProfit = state => state.strategyItem.profit;\nexport const selectDays = state => state.strategyItem.days;\n\nexport default strategyItemSlice.reducer;\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { fetchPricesFromREF } from \"./priceAPI\";\nimport Decimal from \"decimal.js\";\n\nconst initialState = {\n  nearPrice: 0,\n};\n\nexport const fetchPricesAsync = createAsyncThunk(\n  \"prices/fetchPrices\",\n  async () => {\n    console.log(\"Fetching the prices\");\n    const response = await fetchPricesFromREF();\n    return response;\n  },\n);\n\nexport const priceSlice = createSlice({\n  extraReducers: builder => {\n    builder\n      .addCase(fetchPricesAsync.pending, state => {\n        state.status = \"loading\";\n      })\n      .addCase(fetchPricesAsync.fulfilled, (state, action) => {\n        state.status = \"idle\";\n        console.log(\"action.payload\", action.payload);\n        state.nearPrice = action.payload;\n      });\n  },\n  initialState,\n  name: \"prices\",\n});\n\nexport const selectNearPrice = state => new Decimal(state.prices.nearPrice);\n\nexport default priceSlice.reducer;\n","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const updateBalance = createAction(\n  `Balance/updateBalance`,\n  (value: number) => ({\n    payload: value,\n  }),\n);\n\nexport const updateRate = createAction(\n  `Balance/updateRate`,\n  (value: number) => ({\n    payload: value,\n  }),\n);\n","import { ActionReducerMapBuilder, createSlice } from \"@reduxjs/toolkit\";\n\nimport { updateBalance, updateRate } from \"./action\";\nimport { BalanceState, initialBalanceState } from \"./state\";\n\nconst balanceSlice = createSlice({\n  extraReducers: (builder: ActionReducerMapBuilder<BalanceState>) => {\n    builder\n      .addCase(updateBalance, (state, action) => ({\n        ...state,\n        balance: action.payload,\n      }))\n      .addCase(updateRate, (state, action) => ({\n        ...state,\n        rate: action.payload,\n      }));\n  },\n  initialState: initialBalanceState,\n  name: \"Balance\",\n  reducers: {},\n});\n\n/**\n * Reducer\n */\nexport const balanceReducer = balanceSlice.reducer;\n","/**\n * Balance state\n */\nexport interface BalanceState {\n  balance: number;\n  rate: number;\n}\n\n/**\n * Initial state\n */\nexport const initialBalanceState: BalanceState = {\n  balance: 0,\n  rate: 0,\n};\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport strategyItemReducer from \"./features/strategyItem/strategyItemSlice\";\nimport priceProviderReducer from \"./features/providers/priceSlice\";\nimport { balanceReducer } from \"./store/reducers/Balance/reducer\";\n\nexport const store = configureStore({\n  reducer: {\n    balance: balanceReducer,\n    prices: priceProviderReducer,\n    strategyItem: strategyItemReducer,\n  },\n});\n","import React from \"react\";\n\nconst BottomArrowIcon: React.FunctionComponent = () => (\n  <svg\n    width=\"12\"\n    height=\"7\"\n    viewBox=\"0 0 12 7\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M1.00012 1L5.92941 5.92929C5.96846 5.96834 6.03178 5.96834 6.07083 5.92929L11.0001 1\"\n      stroke=\"white\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n    />\n  </svg>\n);\n\nexport default React.memo(BottomArrowIcon);\n","import React from \"react\";\n\nconst CloseIcon: React.FunctionComponent = () => (\n  <svg\n    width=\"13\"\n    height=\"13\"\n    viewBox=\"0 0 13 13\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M2.24921 0.594416L2.34421 0.678302L6.62268 4.95693L10.9012 0.678302C11.295 0.284479 11.9335 0.284479 12.3273 0.678302C12.6908 1.04183 12.7188 1.61386 12.4112 2.00946L12.3273 2.10446L8.04868 6.38294L12.3273 10.6614C12.7211 11.0552 12.7211 11.6938 12.3273 12.0876C11.9638 12.4511 11.3918 12.4791 10.9962 12.1715L10.9012 12.0876L6.62268 7.80894L2.34421 12.0876C1.95039 12.4814 1.31187 12.4814 0.918049 12.0876C0.55452 11.724 0.526555 11.152 0.834156 10.7564L0.918049 10.6614L5.19669 6.38294L0.918049 2.10446C0.524226 1.71064 0.524226 1.07212 0.918049 0.678302C1.28158 0.314773 1.85361 0.286815 2.24921 0.594416Z\"\n      fill=\"black\"\n    />\n  </svg>\n);\n\nexport default React.memo(CloseIcon);\n","import React, { ChangeEvent, useCallback, useMemo } from \"react\";\nimport { store } from \"../../store\";\n\ninterface Props {\n  amount: string | number;\n  onAmountChange: (value: string) => void;\n  errorMessage: string | undefined;\n}\n\nconst DepositCalculateBlock: React.FunctionComponent<Props> = ({\n  amount,\n  onAmountChange,\n  errorMessage,\n}) => {\n  const onChange = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      onAmountChange(event.target.value);\n    },\n    [onAmountChange],\n  );\n\n  const amountFiat = useMemo(() => {\n    if (errorMessage === undefined && Number(amount)) {\n      return (Number(amount) * store.getState().balance.rate).toFixed(2);\n    }\n    return 0;\n  }, [amount, errorMessage]);\n\n  return (\n    <div>\n      <div\n        style={{\n          alignItems: \"center\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <input\n          value={amount}\n          onChange={onChange}\n          style={{\n            backgroundColor: \"#FFFFFF\",\n            border: \"1px solid #DDDDDD\",\n            borderRadius: 5,\n            boxSizing: \"border-box\",\n            flexGrow: 1,\n            fontSize: 12,\n            fontStyle: \"normal\",\n            fontWeight: \"normal\",\n            height: 33,\n            lineHeight: \"26px\",\n            maxLines: 1,\n            overflowX: \"scroll\",\n            paddingLeft: 14,\n            paddingRight: 14,\n            resize: \"none\",\n            whiteSpace: \"nowrap\",\n          }}\n          placeholder=\"NEAR\"\n        />\n        <div\n          style={{\n            border: \"1px solid #000000\",\n            margin: \"0px 6px 0px 6px \",\n            opacity: 0.2,\n            width: 13,\n          }}\n        />\n        <div\n          style={{\n            backgroundColor: \"#383838\",\n            border: \"1px solid #413F3F\",\n            borderRadius: 5,\n            boxShadow: \"inset 0px 4px 4px #383030\",\n            boxSizing: \"border-box\",\n            display: \"flex\",\n            height: 33,\n            justifyContent: \"center\",\n            minWidth: 160,\n            paddingTop: 4,\n          }}\n        >\n          <div\n            style={{\n              color: \"#FFFFFF\",\n              fontSize: 12,\n              fontStyle: \"normal\",\n              fontWeight: \"bold\",\n              lineHeight: \"26px\",\n            }}\n          >\n            {`$ ${amountFiat}`}\n          </div>\n        </div>\n      </div>\n      <div style={{ height: 12 }}>\n        <div\n          style={{\n            color: \"red\",\n            fontSize: 11,\n            fontStyle: \"normal\",\n            fontWeight: 500,\n            lineHeight: \"26px\",\n            opacity: 0.5,\n          }}\n        >\n          {errorMessage}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(DepositCalculateBlock);\n","import React, { useCallback } from \"react\";\nimport { Button, IconButton, styled } from \"@mui/material\";\nimport { Formik, Form } from \"formik\";\nimport * as Yup from \"yup\";\nimport CloseIcon from \"../../icons/CloseIcon\";\nimport DepositCalculateBlock from \"./DepositCalculateBlock\";\n\nconst depositSchema = Yup.object().shape({\n  amount: Yup.number()\n    .typeError(\"Invalid amount!\")\n    .min(10, \"Min amount is 10!\")\n    .max(10000, \"Max amount is 10000!\"),\n});\n\ninterface Props {\n  onClose: () => void;\n  onDeposit: (amount: string) => void;\n}\n\nconst DepositModal: React.FunctionComponent<Props> = ({\n  onClose,\n  onDeposit,\n}) => {\n  const onSubmit = useCallback(\n    ({ amount }) => {\n      onDeposit(amount);\n    },\n    [onDeposit],\n  );\n\n  return (\n    <React.Fragment>\n      <Formik\n        initialValues={{\n          amount: \"\",\n        }}\n        validationSchema={depositSchema}\n        onSubmit={onSubmit}\n      >\n        {({ errors, touched, values, handleChange, handleSubmit }) => (\n          <div\n            style={{\n              backgroundColor: \"#E9EDF0\",\n              border: \"1px solid #E9EDF0\",\n              borderRadius: 10,\n              boxShadow: \"0px 4px 10px rgba(204, 204, 204, 0.25)\",\n              boxSizing: \"border-box\",\n              left: \"50%\",\n              paddingBottom: 26,\n              paddingTop: 28,\n              position: \"absolute\",\n              top: \"50%\",\n              transform: \"translate(-50%, -50%)\",\n              width: \"auto\",\n            }}\n          >\n            <div\n              style={{\n                alignItems: \"center\",\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                paddingLeft: 39,\n                paddingRight: 18,\n              }}\n            >\n              <div\n                style={{\n                  color: \"#2D2D2D\",\n                  fontSize: 20,\n                  fontStyle: \"normal\",\n                  fontWeight: \"bold\",\n                  lineHeight: \"26px\",\n                }}\n              >\n                Deposit NEAR\n              </div>\n              <IconButton onClick={onClose} aria-label=\"delete\" size=\"small\">\n                <CloseIcon />\n              </IconButton>\n            </div>\n            <div\n              style={{\n                border: \"1px solid #000000\",\n                margin: \"10px 0px 20px 0px \",\n                opacity: 0.2,\n              }}\n            />\n            <Form>\n              <div style={{ paddingLeft: 39, paddingRight: 39 }}>\n                <DepositCalculateBlock\n                  amount={values.amount}\n                  onAmountChange={handleChange(\"amount\")}\n                  errorMessage={errors.amount}\n                />\n              </div>\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  marginTop: 14,\n                }}\n              >\n                <DepositButton\n                  disabled={\n                    errors.amount !== undefined && values.amount.length === 0\n                  }\n                  onClick={() => handleSubmit()}\n                >\n                  Deposit\n                </DepositButton>\n              </div>\n            </Form>\n          </div>\n        )}\n      </Formik>\n    </React.Fragment>\n  );\n};\n\nconst DepositButton = styled(Button)({\n  backgroundColor: \"#0097A7\",\n  borderRadius: 20,\n  color: \"#FFFFFF\",\n  fontSize: \"12px\",\n  fontStyle: \"normal\",\n  fontWeight: \"bold\",\n  height: 33,\n  lineHeight: \"26px\",\n  marginRight: \"8px\",\n  padding: \"6px\",\n  textTransform: \"none\",\n  width: 110,\n});\n\nexport default React.memo(DepositModal);\n","import * as React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Menu from \"@mui/material/Menu\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport Logout from \"@mui/icons-material/Logout\";\nimport { useCallback, useState } from \"react\";\nimport walletAPI from \"../api/WalletAPI\";\nimport BottomArrowIcon from \"../icons/BottomArrowIcon\";\nimport { ArrowCircleDown } from \"@mui/icons-material\";\nimport { wrapNear } from \"../api/NearAPI\";\nimport DepositModal from \"../modals/DepositModal/DepositModal\";\nimport { Button, Modal, styled } from \"@mui/material\";\n\nconst ProfileItem: React.FunctionComponent = () => {\n  // Deposit modal visibility and control\n  const [depositModalVisible, setDepositModalVisible] = useState(false);\n\n  const onOpenDepositModal = useCallback(() => {\n    setDepositModalVisible(true);\n  }, []);\n\n  const onCloseDepositModal = useCallback(() => {\n    setDepositModalVisible(false);\n  }, []);\n\n  const onDeposit = useCallback(async (amount: string) => {\n    await wrapNear(amount);\n  }, []);\n\n  // Profile opened control\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const onOpenProfile = useCallback(event => {\n    setAnchorEl(event.currentTarget);\n  }, []);\n\n  const onCloseProfile = useCallback(() => {\n    setAnchorEl(null);\n  }, []);\n\n  // Sign out\n  const onSignOut = useCallback(() => {\n    walletAPI.signOut();\n    window.location.reload();\n  }, []);\n\n  return (\n    <React.Fragment>\n      <Box sx={{ alignItems: \"center\", display: \"flex\", textAlign: \"center\" }}>\n        <DepositButton\n          onClick={onOpenDepositModal}\n          variant=\"text\"\n          startIcon={<ArrowCircleDown fontSize=\"small\" />}\n        >\n          Deposit\n        </DepositButton>\n        <div\n          style={{\n            border: \"1px solid #CADEEF\",\n            height: 32,\n            marginLeft: 24,\n            marginRight: 20,\n          }}\n        />\n        <div\n          style={{\n            color: \"#FFFFFF\",\n            fontSize: 14,\n            fontStyle: \"normal\",\n            fontWeight: 600,\n            letterSpacing: \"0.2px\",\n            lineHeight: \"20px\",\n            marginLeft: 5,\n          }}\n        >\n          {walletAPI.account().accountId}\n        </div>\n        <Tooltip title=\"Account settings\">\n          <IconButton onClick={onOpenProfile} size=\"small\" sx={{ ml: 2 }}>\n            <Avatar sx={{ height: 44, marginRight: \"11px\", width: 44 }}>\n              {walletAPI.account().accountId[0]}\n            </Avatar>\n            <BottomArrowIcon />\n          </IconButton>\n        </Tooltip>\n      </Box>\n      <Menu\n        anchorEl={anchorEl}\n        open={open}\n        onClose={onCloseProfile}\n        onClick={onCloseProfile}\n        PaperProps={{\n          elevation: 0,\n          sx: {\n            \"& .MuiAvatar-root\": {\n              height: 32,\n              ml: -0.5,\n              mr: 1,\n              width: 32,\n            },\n            \"&:before\": {\n              bgcolor: \"background.paper\",\n              content: '\"\"',\n              display: \"block\",\n              height: 10,\n              position: \"absolute\",\n              right: 14,\n              top: 0,\n              transform: \"translateY(-50%) rotate(45deg)\",\n              width: 10,\n              zIndex: 0,\n            },\n            filter: \"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))\",\n            mt: 1.5,\n            overflow: \"visible\",\n          },\n        }}\n        transformOrigin={{ horizontal: \"right\", vertical: \"top\" }}\n        anchorOrigin={{ horizontal: \"right\", vertical: \"bottom\" }}\n      >\n        <MenuItem onClick={onSignOut}>\n          <ListItemIcon>\n            <Logout fontSize=\"small\" />\n          </ListItemIcon>\n          Logout\n        </MenuItem>\n      </Menu>\n      <Modal\n        open={depositModalVisible}\n        onClose={onCloseDepositModal}\n        aria-labelledby=\"parent-modal-title\"\n        aria-describedby=\"parent-modal-description\"\n      >\n        <DepositModal onDeposit={onDeposit} onClose={onCloseDepositModal} />\n      </Modal>\n    </React.Fragment>\n  );\n};\n\nconst DepositButton = styled(Button)({\n  color: \"#FFFFFF\",\n  fontSize: 14,\n  fontStyle: \"normal\",\n  fontWeight: 600,\n  letterSpacing: \"0.2px\",\n  lineHeight: \"20px\",\n  padding: \"6px\",\n  textTransform: \"none\",\n});\n\nexport default React.memo(ProfileItem);\n","import { Button, styled } from \"@mui/material\";\nimport React, { useCallback } from \"react\";\nimport walletAPI from \"../../api/WalletAPI\";\n\nconst ConnectWallet = () => {\n  const onClick = useCallback(() => {\n    walletAPI.requestSignIn();\n  }, []);\n\n  return (\n    <CustomButton\n      variant=\"contained\"\n      endIcon={<img src=\"./icons/near.png\" height={24} width={24} />}\n      onClick={onClick}\n    >\n      Connect NEAR\n    </CustomButton>\n  );\n};\n\nconst CustomButton = styled(Button)({\n  backgroundColor: \"#FFFFFF\",\n  padding: \"6px 12px 6px 12px\",\n  textTransform: \"none\",\n});\n\nexport default React.memo(ConnectWallet);\n","import \"./Header.css\";\nimport { Box } from \"@mui/material\";\nimport walletAPI from \"../../api/WalletAPI\";\nimport ProfileItem from \"../../login/ProfileItem\";\nimport React from \"react\";\nimport ConnectWallet from \"../ConnectWallet/ConnectWallet\";\n\nconst Header: React.FunctionComponent = () => (\n  <div className=\"Header\">\n    <div\n      style={{\n        color: \"#FFFFFF\",\n        fontSize: \"36px\",\n        fontStyle: \"normal\",\n        fontWeight: \"bold\",\n        lineHeight: \"26px\",\n        opacity: 0.3,\n      }}\n    >\n      Depositium\n    </div>\n    <Box>{walletAPI.isSignedIn() ? <ProfileItem /> : <ConnectWallet />}</Box>\n  </div>\n);\n\nexport default React.memo(Header);\n","import React, { CSSProperties, useMemo } from \"react\";\nimport { TokenName } from \"../../hooks/useFarmsList\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport useNearBalance from \"../../hooks/useNearBalance\";\nimport { Box } from \"@mui/material\";\n\nconst Balance: React.FunctionComponent = () => (\n  <Box\n    sx={{\n      backgroundColor: \"#0097A7\",\n      height: \"100%\",\n      px: 5,\n      py: 8,\n    }}\n  >\n    <NearBalance />\n  </Box>\n);\n\nconst NearBalance: React.FunctionComponent = () => {\n  const { balance, rate, fiatAmount } = useNearBalance();\n\n  return (\n    <div\n      style={{\n        alignItems: \"center\",\n        backgroundColor: \"#F8F8F8\",\n        borderRadius: 10,\n        display: \"flex\",\n        paddingLeft: 19,\n        paddingRight: 21,\n      }}\n    >\n      <TokenIcon\n        token=\"NEAR\"\n        style={{ height: 38, marginBottom: 19, marginTop: 17, width: 38 }}\n      />\n      <div\n        style={{\n          marginBottom: 12,\n          marginLeft: 12,\n          marginTop: 19,\n          width: \"100%\",\n        }}\n      >\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <div\n            style={{\n              fontSize: 16,\n              fontStyle: \"normal\",\n              fontWeight: \"bold\",\n              lineHeight: \"20px\",\n              textTransform: \"uppercase\",\n            }}\n          >\n            Near\n          </div>\n          <div\n            style={{\n              fontSize: 14,\n              fontStyle: \"normal\",\n              fontWeight: \"bold\",\n              lineHeight: \"20px\",\n              textTransform: \"uppercase\",\n            }}\n          >\n            {`${balance} NEAR`}\n          </div>\n        </div>\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <div\n            style={{\n              fontSize: 12,\n              fontStyle: \"normal\",\n              fontWeight: 500,\n              lineHeight: \"26px\",\n              opacity: 0.5,\n            }}\n          >\n            {`$ ${rate}`}\n          </div>\n          <div\n            style={{\n              fontSize: 12,\n              fontStyle: \"normal\",\n              fontWeight: 500,\n              lineHeight: \"26px\",\n              opacity: 0.5,\n            }}\n          >\n            {`$${fiatAmount} USD`}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\ninterface TokenIconProps {\n  token: TokenName;\n  style?: CSSProperties;\n}\n\nconst TokenIcon: React.FunctionComponent<TokenIconProps> = ({\n  token,\n  style,\n}) => {\n  const tokenIconSrc = useMemo(() => {\n    switch (token) {\n      case \"REF\":\n        return \"./icons/ref.png\";\n      case \"NEAR\":\n        return \"./icons/near.png\";\n      case \"USDT\":\n        return \"./icons/usdt.png\";\n    }\n  }, [token]);\n\n  return <img style={style} src={tokenIconSrc} height=\"24px\" width=\"24px\" />;\n};\n\nexport default React.memo(Balance);\n","import { useEffect, useState } from \"react\";\nimport { fetchAccountBalance } from \"../features/providers/contractAPI\";\nimport { fetchFiatRate } from \"../api/NearAPI\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport Decimal from \"decimal.js\";\nimport { store } from \"../store\";\nimport { updateBalance, updateRate } from \"../store/reducers/Balance/action\";\n\ninterface Options {\n  balance: string;\n  rate: string;\n  fiatAmount: string;\n}\n\nexport default function useNearBalance(): Options {\n  const [balance, setBalance] = useState<string>(\"~\");\n  const [rate, setRate] = useState<string>(\"~\");\n  const [fiatAmount, setFiatAmount] = useState<string>(\"~\");\n\n  // Preloading and set near balance, rate and fiat amount\n  useEffect(() => {\n    async function fetchBalanceAndRate() {\n      const balance = await fetchAccountBalance();\n      setBalance(balance);\n\n      // Update balance on the store\n      store.dispatch(updateBalance(Number(balance) ?? 0));\n\n      // Fetch rate\n      const rate = await fetchFiatRate();\n      setRate(rate.near.usd);\n      setFiatAmount(new Decimal(rate.near.usd).times(balance).toFixed(2));\n\n      // Update rate on the store\n      store.dispatch(updateRate(rate.near.usd));\n    }\n    fetchBalanceAndRate();\n  }, []);\n\n  return { balance, fiatAmount, rate };\n}\n","import * as math from \"mathjs\";\nimport { BigNumber } from \"bignumber.js\";\nimport walletAPI from \"../api/WalletAPI\";\nimport { getStrategyState } from \"../contract/RefContractView\";\n\nconst LP_TOKEN_DECIMALS = 24;\n\nexport function formatWithCommas(value) {\n  const pattern = /(-?\\d+)(\\d{3})/;\n  while (pattern.test(value)) {\n    value = value.replace(pattern, \"$1,$2\");\n  }\n  return value;\n}\n\nexport const toPrecision = (\n  number,\n  precision,\n  withCommas = false,\n  atLeastOne = true,\n) => {\n  const [whole, decimal = \"\"] = number.split(\".\");\n\n  let str = `${withCommas ? formatWithCommas(whole) : whole}.${decimal.slice(\n    0,\n    precision,\n  )}`.replace(/\\.$/, \"\");\n  if (atLeastOne && Number(str) === 0 && str.length > 1) {\n    const n = str.lastIndexOf(\"0\");\n    str = str.slice(0, n) + str.slice(n).replace(\"0\", \"1\");\n  }\n\n  return str;\n};\n\nexport const formatApr = value => new BigNumber(value);\n\nexport const toReadableNumber = (decimals, number = \"0\") => {\n  if (!decimals) return number;\n\n  const wholeStr = number.substring(0, number.length - decimals) || \"0\";\n  const fractionStr = number\n    .substring(number.length - decimals)\n    .padStart(decimals, \"0\")\n    .substring(0, decimals);\n\n  return `${wholeStr}.${fractionStr}`.replace(/\\.?0+$/, \"\");\n};\n\nexport const parsePoolView = pool => ({\n  amounts: pool.amounts,\n  id: Number(pool.id),\n  share: pool.share,\n  shares_total_supply: pool.shares_total_supply,\n  token0_ref_price: pool.token0_ref_price,\n  token_account_ids: pool.token_account_ids,\n  token_symbols: pool.token_symbols,\n  total_fee: pool.total_fee,\n  tvl: Number(toPrecision(pool.tvl, 2)),\n});\n\nexport const getLPTokenId = farm_id =>\n  farm_id.slice(farm_id.indexOf(\"@\") + 1, farm_id.lastIndexOf(\"#\"));\n\nexport const getFarmInfo = async (\n  farm,\n  pool,\n  staked,\n  tokenPriceList,\n  reward,\n  seed,\n  lpTokenId,\n) => {\n  const { tvl } = pool;\n  const poolTvl = tvl;\n  const poolSts = Number(toReadableNumber(24, pool.shares_total_supply));\n  const userStaked = toReadableNumber(LP_TOKEN_DECIMALS, staked ?? \"0\");\n  const fakeTokenPriceList = {\n    \"usdc-aromankov.testnet\": { price: 1, decimals: 18 },\n  };\n  const rewardToken = fakeTokenPriceList[farm.reward_token];\n  const rewardTokenPrice = rewardToken ? rewardToken.price || 0 : 0;\n  const rewardNumber = toReadableNumber(rewardToken.decimals, reward) ?? \"0\";\n  const seedAmount = seed ?? \"0\";\n  const totalSeed = toReadableNumber(LP_TOKEN_DECIMALS, seedAmount);\n\n  const rewardNumberPerWeek = math.round(\n    math.evaluate(\n      `(${farm.reward_per_session} / ${farm.session_interval}) * 604800`,\n    ),\n  );\n\n  const rewardsPerWeek = toPrecision(\n    toReadableNumber(\n      rewardToken.decimals,\n      new BigNumber(rewardNumberPerWeek.toString()).toFixed(),\n    ),\n    2,\n  );\n\n  const userRewardNumberPerWeek =\n    seedAmount !== \"0\"\n      ? math.round(\n          math.evaluate(\n            `${rewardNumberPerWeek} * (${staked ?? 0} / ${seedAmount})`,\n          ),\n        )\n      : 0;\n\n  const userRewardsPerWeek = toReadableNumber(\n    rewardToken.decimals,\n    userRewardNumberPerWeek.toString(),\n  );\n\n  const totalStaked = new BigNumber(totalSeed)\n    .multipliedBy(poolTvl)\n    .dividedBy(poolSts)\n    .toNumber();\n\n  let apr =\n    totalStaked === 0\n      ? \"0\"\n      : new BigNumber(1)\n          .dividedBy(totalStaked)\n          .multipliedBy(\n            new BigNumber(rewardsPerWeek).multipliedBy(rewardTokenPrice),\n          )\n          .multipliedBy(52)\n          .multipliedBy(100);\n\n  if (apr.gt(100)) {\n    apr = apr.toFixed(0);\n  } else {\n    apr = apr.toFixed(2);\n  }\n\n  if (farm.farm_status === \"Created\") farm.farm_status = \"Pending\";\n\n  try {\n    const strategyState = walletAPI.isSignedIn()\n      ? await getStrategyState({ farmId: farm.farm_id })\n      : 0;\n    if (strategyState > 0) {\n      farm.farm_status = \"InProgress\";\n    }\n  } catch (e) {\n    console.log(e);\n  }\n\n  return {\n    ...farm,\n    apr,\n    lpTokenId,\n    pool,\n    rewardNumber,\n    rewardToken,\n    rewardsPerWeek,\n    totalStaked,\n    userRewardsPerWeek,\n    userStaked,\n  };\n};\n","import { getFarmInfo, getLPTokenId, parsePoolView } from \"../utils/RefApiUtils\";\nimport {\n  getFarms,\n  getPools,\n  getRewardsByAccountId,\n  getSeeds,\n  getStakedListByAccountId,\n} from \"../contract/RefContractView\";\nimport walletAPI from \"./WalletAPI\";\nimport config from \"../config\";\nimport { wallet } from \"./token\";\nimport { BigNumber } from \"bignumber.js\";\n// const allowedFarms = [\"v2.ref-finance.near@79#0\"];\nconst allowedFarms = config.availableFarms;\n\nexport const fetchPoolsByFarmIs = async poolIds => {\n  const ids = poolIds.join(\"|\");\n\n  return fetch(\n    process.env.REACT_APP_INDEXER_URL + \"/list-pools-by-ids?ids=\" + ids,\n    {\n      headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\n      method: \"GET\",\n    },\n  )\n    .then(res => res.json())\n    .then(pools => {\n      pools = pools.map(pool => parsePoolView(pool));\n      return pools;\n    })\n    .catch(() => []);\n};\n\nexport const fetchTokenPriceList = async () =>\n  await fetch(process.env.REACT_APP_INDEXER_URL + \"/list-token-price\", {\n    headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\n    method: \"GET\",\n  })\n    .then(res => res.json())\n    .catch(() => []);\n\nexport const fetchFarmList = async () => {\n  const seeds = await getSeeds();\n  const farmList = await getFarms();\n\n  const accoundId = wallet.getAccountId();\n  const accoundPrefix = accoundId.split(\".\")[0];\n  const subAccId = `${accoundPrefix}.${config.depositiumContractId}`;\n\n  const rewardList = walletAPI.isSignedIn()\n    ? await getRewardsByAccountId({ accountId: subAccId })\n    : {};\n\n  const stakedList = walletAPI.isSignedIn()\n    ? await getStakedListByAccountId({ accountId: subAccId })\n    : {};\n  // const tokenPriceList = await fetchTokenPriceList();\n  const tokenPriceList = {\n    \"usdc-aromankov.testnet\": 1,\n    \"wrap_near-aromankov.testnet\": 10.6,\n  };\n\n  const filteredFarms = farmList.filter(f => allowedFarms.includes(f.farm_id));\n  const poolIds = filteredFarms.map(it => getLPTokenId(it.farm_id));\n\n  let poolList = {};\n  const pools = await getPools();\n  if (pools) {\n    for (let poolId = 0; poolId < pools.length; poolId++) {\n      const token0 = pools[poolId].token_account_ids[0];\n      const token1 = pools[poolId].token_account_ids[1];\n      const token0Tvl = new BigNumber(pools[poolId].amounts[0])\n        .dividedBy(new BigNumber(10).pow(18))\n        .multipliedBy(tokenPriceList[token0]);\n      const token1Tvl = new BigNumber(pools[poolId].amounts[1])\n        .dividedBy(new BigNumber(10).pow(24))\n        .multipliedBy(tokenPriceList[token1]);\n      poolList[`${config.financeContractId}@${poolId}#1`] = {\n        shares_total_supply: pools[poolId].shares_total_supply,\n        token_symbols: pools[poolId].token_account_ids,\n        tvl: token0Tvl.plus(token1Tvl).toFixed(0),\n      };\n    }\n  }\n\n  let farmsInfo = [];\n  for (const farm of filteredFarms) {\n    farmsInfo.push(\n      await getFarmInfo(\n        farm,\n        poolList[farm.farm_id],\n        stakedList[farm.seed_id],\n        tokenPriceList,\n        rewardList[farm.reward_token],\n        seeds[farm.seed_id],\n        getLPTokenId(farm.farm_id),\n      ),\n    );\n  }\n  return farmsInfo;\n};\n","import { useCallback, useEffect, useState } from \"react\";\nimport { fetchFarmList } from \"../api/RefAPI\";\nimport config from \"../config\";\n\nexport type TokenName =\n  | \"REF\"\n  | \"NEAR\"\n  | \"USDT\"\n  | \"stNEAR\"\n  | \"REF-NEAR\"\n  | \"Metapool stNEAR\"\n  | \"USDC\";\nexport type FarmStatus = \"in-progress\" | \"active\" | \"soon\";\n\nexport interface IFarm {\n  _type: \"farm\";\n  provider: string;\n  id: number;\n  apr: string;\n  pair: { first: TokenName; second: TokenName };\n  depositAmount: number;\n  profitAmount: number;\n  status: FarmStatus;\n}\n\ninterface Options {\n  farms: IFarm[];\n}\n\nexport default function useFarmsList(): Options {\n  const [farms, setFarms] = useState<IFarm[]>([]);\n\n  const formatFarmData = useCallback((rawFarm): IFarm => {\n    console.log(rawFarm);\n    const activeFarms = config.activeFarms;\n\n    let status: FarmStatus;\n    if (rawFarm.farm_status === \"InProgress\") {\n      status = \"in-progress\";\n    } else if (activeFarms.includes(rawFarm.farm_id)) {\n      status = \"active\";\n    } else {\n      status = \"soon\";\n    }\n\n    return {\n      _type: \"farm\",\n      apr: rawFarm.apr,\n      depositAmount: 15,\n      id: rawFarm.farm_id,\n      pair: {\n        first: rawFarm.pool.token_symbols[0]\n          .split(\"-\")[0]\n          .replace(\"wrap_\", \"\")\n          .toUpperCase(),\n        second: rawFarm.pool.token_symbols[1]\n          .split(\"-\")[0]\n          .replace(\"wrap_\", \"\")\n          .toUpperCase(),\n      },\n      profitAmount: 3,\n      provider: \"REF Farming\",\n      status: status,\n    };\n  }, []);\n\n  useEffect(() => {\n    async function fetchData() {\n      const response = await fetchFarmList();\n      setFarms(sortByStatus(response.map(formatFarmData)));\n    }\n    if (farms.length === 0) {\n      fetchData();\n    }\n  }, [farms, formatFarmData]);\n\n  return { farms };\n}\n\nconst sortByStatus = (farms: IFarm[]): IFarm[] =>\n  farms.sort((a, b) => {\n    if (a.status === \"active\") {\n      return -1;\n    }\n    return 1;\n  });\n","import { TokenName } from \"../hooks/useFarmsList\";\nimport React, { CSSProperties, useMemo } from \"react\";\n\ninterface Props {\n  token: TokenName;\n  style?: CSSProperties;\n}\n\nexport const TokenIcon: React.FunctionComponent<Props> = ({ token, style }) =>\n  useMemo(() => {\n    switch (token) {\n      case \"REF\":\n      case \"REF-NEAR\":\n        return (\n          <img style={style} src=\"./icons/ref.png\" height={28} width={28} />\n        );\n      case \"NEAR\":\n        return (\n          <img style={style} src=\"./icons/near.png\" height={28} width={28} />\n        );\n      case \"USDC\":\n        return (\n          <img style={style} src=\"./icons/usdc.svg\" height={28} width={28} />\n        );\n      case \"USDT\":\n        return (\n          <img style={style} src=\"./icons/usdt.png\" height={28} width={28} />\n        );\n      case \"Metapool stNEAR\":\n        return (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 67.79 67.79\"\n            width=\"28\"\n            height=\"28\"\n            version=\"1.1\"\n          >\n            <path\n              fill=\"#fff\"\n              d=\"M33.934.311a33.9 33.9 0 1 0 33.89 33.9 33.9 33.9 0 0 0-33.89-33.9z\"\n              id=\"path505\"\n            />\n            <path\n              stroke=\"none\"\n              fill=\"#ffbd00\"\n              strokeWidth=\"1px\"\n              strokeLinecap=\"butt\"\n              strokeLinejoin=\"miter\"\n              strokeOpacity={1}\n              fillOpacity={1}\n              d=\"m11.803 27.8 12.387.359 2.361 5.959 7.616 3.31 8.523-3.322 2.348-5.87 12.269.03L54.822 54.2 31.837 58.86 12.89 52.648z\"\n              id=\"path1051\"\n            />\n            <path\n              stroke=\"none\"\n              fill=\"#a0a0ff\"\n              strokeWidth=\"1px\"\n              strokeLinecap=\"butt\"\n              strokeLinejoin=\"miter\"\n              strokeOpacity={1}\n              fillOpacity={1}\n              d=\"m34.657 12.575-10.43 9.633 1.096 10.01 8.844 5.21 9.785-5.287 1.086-11.33z\"\n              id=\"path1815\"\n            />\n            <path\n              id=\"path928\"\n              fill=\"#666\"\n              fillOpacity={1}\n              d=\"M33.928 4.282a29.93 29.93 0 0 1 4.682.367 29.93 29.93 0 0 1 25.244 29.572 29.93 29.93 0 0 1-29.92 29.92 29.93 29.93 0 0 1-.006-59.86zm.729 8.293c-2.03 5.668-8.815 9.76-8.815 14.521 0 4.76 3.912 8.62 8.737 8.62 4.824 0 8.736-3.86 8.736-8.62s-6.707-8.697-8.658-14.521zM37.84 22.67a2.524 2.446 0 0 1 .246.012 2.524 2.446 0 0 1 .246.035 2.524 2.446 0 0 1 .24.059 2.524 2.446 0 0 1 .233.08 2.524 2.446 0 0 1 .225.104 2.524 2.446 0 0 1 .213.123 2.524 2.446 0 0 1 .197.142 2.524 2.446 0 0 1 .183.162 2.524 2.446 0 0 1 .168.178 2.524 2.446 0 0 1 .147.191 2.524 2.446 0 0 1 .127.207 2.524 2.446 0 0 1 .105.217 2.524 2.446 0 0 1 .084.227 2.524 2.446 0 0 1 .06.232 2.524 2.446 0 0 1 .038.237 2.524 2.446 0 0 1 .012.24 2.524 2.446 0 0 1-.086.633 2.524 2.446 0 0 1-.252.59 2.524 2.446 0 0 1-.403.507 2.524 2.446 0 0 1-.521.389 2.524 2.446 0 0 1-.61.244 2.524 2.446 0 0 1-.652.084 2.524 2.446 0 0 1-.654-.084 2.524 2.446 0 0 1-.607-.244 2.524 2.446 0 0 1-.524-.389 2.524 2.446 0 0 1-.4-.508 2.524 2.446 0 0 1-.252-.59 2.524 2.446 0 0 1-.086-.632 2.524 2.446 0 0 1 .086-.633 2.524 2.446 0 0 1 .252-.59 2.524 2.446 0 0 1 .4-.506A2.524 2.446 0 0 1 36.58 23a2.524 2.446 0 0 1 .607-.247 2.524 2.446 0 0 1 .654-.082zM24.19 28.16a16.579 2.485 0 0 0-6.502 1.965 16.579 2.485 0 0 0 7.635 2.093 10.483 10.6 0 0 1-1.133-4.058zm20.848.078a10.483 10.6 0 0 1-1.086 3.904 16.579 2.485 0 0 0 6.894-2.017 16.579 2.485 0 0 0-5.808-1.887zm6.925 3.21c-.455 1.177-4.097 2.154-9.273 2.659a10.483 10.6 0 0 1-8.072 3.861 10.483 10.6 0 0 1-8.067-3.85c-5.276-.506-8.978-1.498-9.398-2.64h-.049v5.17h.049a.69.69 0 0 0-.049.24c0 1.8 7.81 3.25 17.43 3.25 9.62 0 17.43-1.45 17.43-3.25a.69.69 0 0 0 0-.24zm.032 7.323c-.67 1.73-8.22 3.03-17.43 3.03-9.23 0-16.771-1.34-17.381-3h-.049v5.17h.049a.69.69 0 0 0-.049.24c0 1.8 7.81 3.25 17.43 3.25 9.62 0 17.43-1.45 17.43-3.25a.69.69 0 0 0 0-.24zm0 7.21c-.67 1.69-8.22 3.03-17.43 3.03-9.23 0-16.771-1.34-17.381-3h-.049v5.17h.049a.69.69 0 0 0-.049.24c0 1.8 7.81 3.25 17.43 3.25 9.62 0 17.43-1.45 17.43-3.25a.69.69 0 0 0 0-.24z\"\n            />\n          </svg>\n        );\n      default:\n        return <img style={style} src=\"\" height={28} width={28} />;\n    }\n  }, [style, token]);\n\nexport default React.memo(TokenIcon);\n","import React from \"react\";\n\nconst CalculatorIcon: React.FunctionComponent = () => (\n  <svg\n    width=\"8\"\n    height=\"12\"\n    viewBox=\"0 0 8 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M6.93754 0.889572H0.872005C0.4372 0.889572 0.0893555 1.27031 0.0893555 1.74623V10.2415C0.0893555 10.7174 0.4372 11.0981 0.872005 11.0981H6.94841C7.38321 11.0981 7.73106 10.7174 7.73106 10.2415V1.74623C7.72018 1.27031 7.37234 0.889572 6.93754 0.889572ZM2.66558 9.25393C2.66558 9.36101 2.57861 9.4562 2.48078 9.4562H1.50247C1.40464 9.4562 1.31768 9.36101 1.31768 9.25393V8.1831C1.31768 8.07602 1.40464 7.98083 1.50247 7.98083H2.48078C2.57861 7.98083 2.66558 8.07602 2.66558 8.1831V9.25393ZM2.66558 7.17176C2.66558 7.27885 2.57861 7.37403 2.48078 7.37403H1.50247C1.40464 7.37403 1.31768 7.27885 1.31768 7.17176V6.10094C1.31768 5.99385 1.40464 5.89867 1.50247 5.89867H2.48078C2.57861 5.89867 2.66558 5.99385 2.66558 6.10094V7.17176ZM4.57872 9.25393C4.57872 9.36101 4.49176 9.4562 4.39393 9.4562H3.41561C3.31778 9.4562 3.23082 9.36101 3.23082 9.25393V8.1831C3.23082 8.07602 3.31778 7.98083 3.41561 7.98083H4.39393C4.49176 7.98083 4.57872 8.07602 4.57872 8.1831V9.25393ZM4.57872 7.17176C4.57872 7.27885 4.49176 7.37403 4.39393 7.37403H3.41561C3.31778 7.37403 3.23082 7.27885 3.23082 7.17176V6.10094C3.23082 5.99385 3.31778 5.89867 3.41561 5.89867H4.39393C4.49176 5.89867 4.57872 5.99385 4.57872 6.10094V7.17176ZM6.49186 9.25393C6.49186 9.36101 6.4049 9.4562 6.30707 9.4562H5.32876C5.23093 9.4562 5.14397 9.36101 5.14397 9.25393V8.1831C5.14397 8.07602 5.23093 7.98083 5.32876 7.98083H6.30707C6.4049 7.98083 6.49186 8.07602 6.49186 8.1831V9.25393ZM6.49186 7.17176C6.49186 7.27885 6.4049 7.37403 6.30707 7.37403H5.32876C5.23093 7.37403 5.14397 7.27885 5.14397 7.17176V6.10094C5.14397 5.99385 5.23093 5.89867 5.32876 5.89867H6.30707C6.4049 5.89867 6.49186 5.99385 6.49186 6.10094V7.17176ZM6.85057 4.55418C6.85057 4.66127 6.76361 4.75645 6.66578 4.75645H1.14376C1.04593 4.75645 0.958966 4.66127 0.958966 4.55418V2.43632C0.958966 2.32924 1.04593 2.23406 1.14376 2.23406H6.67665C6.77448 2.23406 6.86144 2.32924 6.86144 2.43632V4.55418H6.85057Z\"\n      fill=\"#0097A7\"\n    />\n  </svg>\n);\n\nexport default React.memo(CalculatorIcon);\n","import React, { useCallback, useMemo } from \"react\";\nimport { Slider } from \"@mui/material\";\nimport { store } from \"../../store\";\n\ninterface Props {\n  days: number;\n  apr: number;\n  amount: string | number;\n  onDaysChange: (value: string) => void;\n}\n\nconst CalculatorProfitBlock: React.FunctionComponent<Props> = ({\n  days,\n  apr,\n  amount,\n  onDaysChange,\n}) => {\n  const onChange = useCallback(\n    (event: React.SyntheticEvent | Event, value: number | number[]) => {\n      if (Number(value)) {\n        onDaysChange(value.toString());\n      }\n    },\n    [onDaysChange],\n  );\n\n  const profit = useMemo(() => {\n    if (Number(amount)) {\n      return (\n        ((Number(amount) * apr * days) / 365 / 100) *\n        store.getState().balance.rate\n      ).toFixed(2);\n    }\n    return 0;\n  }, [amount, apr, days]);\n\n  return (\n    <div>\n      <div\n        style={{\n          alignItems: \"center\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <div\n          style={{\n            color: \"#2D2D2D\",\n            fontSize: 14,\n            fontStyle: \"normal\",\n            fontWeight: 500,\n            lineHeight: \"26px\",\n            opacity: 0.5,\n          }}\n        >\n          Days\n        </div>\n        <div\n          style={{\n            color: \"#2D2D2D\",\n            fontSize: 14,\n            fontStyle: \"normal\",\n            fontWeight: 500,\n            lineHeight: \"26px\",\n            opacity: 0.5,\n            width: 160,\n          }}\n        >\n          Profit\n        </div>\n      </div>\n      <div\n        style={{\n          alignItems: \"center\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <div\n          style={{\n            flexDirection: \"column\",\n            flexGrow: 1,\n            marginRight: 22,\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <div\n              style={{\n                color: \"#2D2D2D\",\n                fontSize: 12,\n                fontStyle: \"normal\",\n                fontWeight: \"normal\",\n                lineHeight: \"26px\",\n                opacity: 0.3,\n              }}\n            >\n              1\n            </div>\n            <div\n              style={{\n                color: \"#2D2D2D\",\n                fontSize: 12,\n                fontStyle: \"normal\",\n                fontWeight: \"normal\",\n                lineHeight: \"26px\",\n                opacity: 0.3,\n              }}\n            >\n              90\n            </div>\n          </div>\n          <div style={{ marginLeft: 4, marginRight: 6 }}>\n            <Slider\n              defaultValue={1}\n              onChange={onChange}\n              min={1}\n              max={90}\n              size=\"small\"\n              step={1}\n              aria-label=\"Default\"\n              valueLabelDisplay=\"auto\"\n            />\n          </div>\n        </div>\n        <div\n          style={{\n            backgroundColor: \"#383838\",\n            border: \"1px solid #413F3F\",\n            borderRadius: 5,\n            boxShadow: \"inset 0px 4px 4px #383030\",\n            boxSizing: \"border-box\",\n            display: \"flex\",\n            height: 33,\n            justifyContent: \"center\",\n            minWidth: 160,\n            paddingTop: 4,\n          }}\n        >\n          <div\n            style={{\n              color: \"#FFFFFF\",\n              fontSize: 12,\n              fontStyle: \"normal\",\n              fontWeight: \"bold\",\n              lineHeight: \"26px\",\n            }}\n          >\n            {`$ ${profit}`}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(CalculatorProfitBlock);\n","import React, { ChangeEvent, useCallback, useMemo } from \"react\";\nimport { store } from \"../../store\";\n\ninterface Props {\n  amount: string | number;\n  onAmountChange: (value: string) => void;\n  errorMessage: string | undefined;\n}\n\nconst CalculatorDepositBlock: React.FunctionComponent<Props> = ({\n  amount,\n  onAmountChange,\n  errorMessage,\n}) => {\n  const onChange = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      onAmountChange(event.target.value);\n    },\n    [onAmountChange],\n  );\n\n  const amountFiat = useMemo(() => {\n    if (Number(amount)) {\n      return (Number(amount) * store.getState().balance.rate).toFixed(2);\n    }\n    return 0;\n  }, [amount]);\n\n  return (\n    <div>\n      <div\n        style={{\n          color: \"#2D2D2D\",\n          fontSize: 14,\n          fontStyle: \"normal\",\n          fontWeight: 500,\n          lineHeight: \"26px\",\n          opacity: 0.5,\n        }}\n      >\n        Deposit\n      </div>\n      <div\n        style={{\n          alignItems: \"center\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <input\n          value={amount}\n          onChange={onChange}\n          style={{\n            backgroundColor: \"#FFFFFF\",\n            border: \"1px solid #DDDDDD\",\n            borderRadius: 5,\n            boxSizing: \"border-box\",\n            flexGrow: 1,\n            fontSize: 12,\n            fontStyle: \"normal\",\n            fontWeight: \"normal\",\n            height: 33,\n            lineHeight: \"26px\",\n            maxLines: 1,\n            overflowX: \"scroll\",\n            paddingLeft: 14,\n            paddingRight: 14,\n            resize: \"none\",\n            whiteSpace: \"nowrap\",\n          }}\n          placeholder=\"NEAR\"\n        />\n        <div\n          style={{\n            border: \"1px solid #000000\",\n            margin: \"0px 6px 0px 6px \",\n            opacity: 0.2,\n            width: 13,\n          }}\n        />\n        <div\n          style={{\n            backgroundColor: \"#383838\",\n            border: \"1px solid #413F3F\",\n            borderRadius: 5,\n            boxShadow: \"inset 0px 4px 4px #383030\",\n            boxSizing: \"border-box\",\n            display: \"flex\",\n            height: 33,\n            justifyContent: \"center\",\n            minWidth: 160,\n            paddingTop: 4,\n          }}\n        >\n          <div\n            style={{\n              color: \"#FFFFFF\",\n              fontSize: 12,\n              fontStyle: \"normal\",\n              fontWeight: \"bold\",\n              lineHeight: \"26px\",\n            }}\n          >\n            {`$ ${amountFiat}`}\n          </div>\n        </div>\n      </div>\n      {errorMessage && (\n        <div\n          style={{\n            color: \"red\",\n            fontSize: 11,\n            fontStyle: \"normal\",\n            fontWeight: 500,\n            lineHeight: \"26px\",\n            opacity: 0.5,\n          }}\n        >\n          {errorMessage}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(CalculatorDepositBlock);\n","import { TokenName } from \"../../hooks/useFarmsList\";\nimport React from \"react\";\nimport { TokenIcon } from \"../../components/TokenIcon\";\n\ninterface Props {\n  pair: {\n    first: TokenName;\n    second: TokenName;\n  };\n  apr: string;\n}\n\nconst CalculatorFarmInfo: React.FunctionComponent<Props> = ({ pair, apr }) => (\n  <div\n    style={{\n      alignItems: \"center\",\n      display: \"flex\",\n    }}\n  >\n    <div\n      style={{\n        alignItems: \"center\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n      }}\n    >\n      <div\n        style={{\n          fontSize: 20,\n          fontStyle: \"normal\",\n          fontWeight: 500,\n          lineHeight: \"26px\",\n        }}\n      >\n        {`${pair.first}-${pair.second}`}\n      </div>\n      <div\n        style={{\n          marginLeft: \"24px\",\n        }}\n      >\n        <TokenIcon token={pair.first} />\n        <TokenIcon\n          style={{ marginLeft: 10, marginRight: 32 }}\n          token={pair.second}\n        />\n      </div>\n    </div>\n    <div\n      style={{\n        alignItems: \"center\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n      }}\n    >\n      <div\n        style={{\n          border: \"1px solid #000000\",\n          height: 26,\n          opacity: 0.2,\n        }}\n      />\n      <div\n        style={{\n          display: \"flex\",\n          fontSize: \"20px\",\n          fontStyle: \"normal\",\n          fontWeight: 500,\n          justifyContent: \"center\",\n          lineHeight: \"26px\",\n          minWidth: 160,\n        }}\n      >\n        {`APR: ${apr}%`}\n      </div>\n    </div>\n  </div>\n);\n\nexport default React.memo(CalculatorFarmInfo);\n","import React from \"react\";\nimport { TokenIcon } from \"../../components/TokenIcon\";\nimport { TokenName } from \"../../hooks/useFarmsList\";\n\ninterface Props {\n  token: TokenName;\n  apr: string;\n}\n\nconst CalculatorStakeInfo: React.FunctionComponent<Props> = ({\n  token,\n  apr,\n}) => (\n  <div\n    style={{\n      alignItems: \"center\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"100%\",\n    }}\n  >\n    <div\n      style={{\n        alignItems: \"center\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginRight: 20,\n        width: 180,\n      }}\n    >\n      <div\n        style={{\n          fontSize: 20,\n          fontStyle: \"normal\",\n          fontWeight: 500,\n          lineHeight: \"26px\",\n        }}\n      >\n        {`${token}`}\n      </div>\n      <TokenIcon token={token} />\n    </div>\n    <div\n      style={{\n        alignItems: \"center\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n      }}\n    >\n      <div\n        style={{\n          border: \"1px solid #000000\",\n          height: 26,\n          opacity: 0.2,\n        }}\n      />\n      <div\n        style={{\n          display: \"flex\",\n          fontSize: \"20px\",\n          fontStyle: \"normal\",\n          fontWeight: 500,\n          justifyContent: \"center\",\n          lineHeight: \"26px\",\n          minWidth: 160,\n        }}\n      >\n        {`APR: ${apr}%`}\n      </div>\n    </div>\n  </div>\n);\n\nexport default React.memo(CalculatorStakeInfo);\n","import React, { useCallback } from \"react\";\nimport { Button, IconButton, styled } from \"@mui/material\";\nimport CloseIcon from \"../../icons/CloseIcon\";\nimport { IFarm } from \"../../hooks/useFarmsList\";\nimport CalculatorProfitBlock from \"./CalculatorProfitBlock\";\nimport CalculatorDepositBlock from \"./CalculatorDepositBlock\";\nimport { Formik, Form } from \"formik\";\nimport * as Yup from \"yup\";\nimport { IStake } from \"../../hooks/useStakesList\";\nimport CalculatorFarmInfo from \"./CalculatorFarmInfo\";\nimport CalculatorStakeInfo from \"./CalculatorStakeInfo\";\nimport walletAPI from \"../../api/WalletAPI\";\n\nconst calculateSchema = Yup.object().shape({\n  amount: Yup.number()\n    .typeError(\"Invalid amount!\")\n    .min(0.01, \"Too Short!\")\n    .max(10000, \"Too Long!\"),\n  days: Yup.number().min(1, \"Too Short!\").max(90, \"Too Long!\"),\n});\n\ninterface Props {\n  strategy: IFarm | IStake;\n  onClose: () => void;\n  onStartStrategy: (amount: string, strategyId: string) => void;\n}\n\nconst CalculatorModal: React.FunctionComponent<Props> = ({\n  strategy,\n  onClose,\n  onStartStrategy,\n}) => {\n  const infoBlock = useCallback(() => {\n    switch (strategy._type) {\n      case \"stake\":\n        return (\n          <CalculatorStakeInfo token={strategy.token} apr={strategy.apr} />\n        );\n      case \"farm\":\n        return <CalculatorFarmInfo pair={strategy.pair} apr={strategy.apr} />;\n    }\n  }, [strategy]);\n\n  const onSubmit = useCallback(\n    ({ amount, strategyId }) => {\n      onStartStrategy(amount, String(strategyId));\n    },\n    [onStartStrategy],\n  );\n\n  return (\n    <React.Fragment>\n      <Formik\n        initialValues={{\n          amount: \"\",\n          strategyId: strategy.id,\n          days: 1,\n        }}\n        validationSchema={calculateSchema}\n        onSubmit={onSubmit}\n      >\n        {({ errors, touched, values, handleChange, handleSubmit }) => (\n          <div\n            style={{\n              backgroundColor: \"#E9EDF0\",\n              border: \"1px solid #E9EDF0\",\n              borderRadius: 10,\n              boxShadow: \"0px 4px 10px rgba(204, 204, 204, 0.25)\",\n              boxSizing: \"border-box\",\n              left: \"50%\",\n              paddingBottom: 26,\n              paddingTop: 28,\n              position: \"absolute\",\n              top: \"50%\",\n              transform: \"translate(-50%, -50%)\",\n              width: \"auto\",\n            }}\n          >\n            <div\n              style={{\n                alignItems: \"center\",\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                paddingLeft: 39,\n                paddingRight: 18,\n              }}\n            >\n              <div\n                style={{\n                  color: \"#2D2D2D\",\n                  fontSize: 20,\n                  fontStyle: \"normal\",\n                  fontWeight: \"bold\",\n                  lineHeight: \"26px\",\n                }}\n              >\n                Farming\n              </div>\n              <IconButton onClick={onClose} aria-label=\"delete\" size=\"small\">\n                <CloseIcon />\n              </IconButton>\n            </div>\n            <div\n              style={{\n                border: \"1px solid #000000\",\n                margin: \"10px 0px 20px 0px \",\n                opacity: 0.2,\n              }}\n            />\n            <Form>\n              <div style={{ paddingLeft: 39, paddingRight: 39 }}>\n                {infoBlock()}\n                <BlockDivider />\n                <CalculatorDepositBlock\n                  amount={values.amount}\n                  onAmountChange={handleChange(\"amount\")}\n                  errorMessage={errors.amount}\n                />\n                <BlockDivider />\n                <CalculatorProfitBlock\n                  days={values.days}\n                  apr={Number(strategy.apr)}\n                  amount={values.amount}\n                  onDaysChange={handleChange(\"days\")}\n                />\n              </div>\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  marginTop: 26,\n                }}\n              >\n                {strategy.status == \"active\" && walletAPI.isSignedIn() && (\n                  <StartButton onClick={() => handleSubmit()}>\n                    Start\n                  </StartButton>\n                )}\n              </div>\n            </Form>\n          </div>\n        )}\n      </Formik>\n    </React.Fragment>\n  );\n};\n\nconst BlockDivider: React.FunctionComponent = () => (\n  <div\n    style={{\n      border: \"1px solid #000000\",\n      margin: \"10px 0px 13px 0px \",\n      opacity: 0.05,\n    }}\n  />\n);\n\nconst StartButton = styled(Button)({\n  backgroundColor: \"#0097A7\",\n  borderRadius: 20,\n  color: \"#FFFFFF\",\n  fontSize: \"12px\",\n  fontStyle: \"normal\",\n  fontWeight: \"bold\",\n  height: 33,\n  lineHeight: \"26px\",\n  marginRight: \"8px\",\n  padding: \"6px\",\n  textTransform: \"none\",\n  width: 110,\n});\n\nexport default React.memo(CalculatorModal);\n","import React, { useCallback, useState } from \"react\";\nimport CalculatorIcon from \"../../icons/CalculatorIcon\";\nimport { Button, Modal, styled } from \"@mui/material\";\nimport CalculatorModal from \"../../modals/CalculatorModal/CalculatorModal\";\nimport { IFarm } from \"../../hooks/useFarmsList\";\nimport { IStake } from \"../../hooks/useStakesList\";\n\ninterface Props {\n  strategy: IFarm | IStake;\n  onStartStrategy: (amount: string, strategyId: string) => void;\n}\n\nconst StrategyTitle: React.FunctionComponent<Props> = ({\n  strategy,\n  onStartStrategy,\n}) => {\n  // Calculator control\n  const [calculatorVisible, setCalculatorVisible] = useState(false);\n\n  const onOpenCalculator = useCallback(() => {\n    setCalculatorVisible(true);\n  }, []);\n\n  const onCloseCalculator = useCallback(() => {\n    setCalculatorVisible(false);\n  }, []);\n\n  return (\n    <>\n      <div\n        style={{\n          alignItems: \"center\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <div\n          style={{\n            color: \"#2D2D2D\",\n            fontSize: \"20px\",\n            fontStyle: \"normal\",\n            fontWeight: \"bold\",\n            lineHeight: \"26px\",\n            marginLeft: \"14px\",\n          }}\n        >\n          {strategy.provider}\n        </div>\n        <CalculateButton\n          onClick={onOpenCalculator}\n          variant=\"text\"\n          startIcon={<CalculatorIcon />}\n        >\n          Calculate\n        </CalculateButton>\n      </div>\n      <div\n        style={{\n          border: \"1px solid #000000\",\n          margin: \"10px 14px 30px 14px \",\n          opacity: 0.1,\n        }}\n      />\n      <Modal\n        open={calculatorVisible}\n        onClose={onCloseCalculator}\n        aria-labelledby=\"parent-modal-title\"\n        aria-describedby=\"parent-modal-description\"\n      >\n        <CalculatorModal\n          strategy={strategy}\n          onClose={onCloseCalculator}\n          onStartStrategy={onStartStrategy}\n        />\n      </Modal>\n    </>\n  );\n};\n\nconst CalculateButton = styled(Button)({\n  color: \"#0097A7\",\n  fontSize: \"12px\",\n  fontStyle: \"normal\",\n  fontWeight: \"bold\",\n  lineHeight: \"26px\",\n  marginRight: \"8px\",\n  padding: \"6px\",\n  textTransform: \"none\",\n});\n\nexport default React.memo(StrategyTitle);\n","import React, { useMemo } from \"react\";\nimport { store } from \"../../store\";\n\ninterface Props {\n  depositAmount: number;\n  profitAmount: number;\n}\n\nconst StrategyProfit: React.FunctionComponent<Props> = ({\n  depositAmount,\n  profitAmount,\n}) => (\n  <>\n    <div\n      style={{\n        border: \"1px solid #000000\",\n        margin: \"30px 14px 18px 14px \",\n        opacity: 0.1,\n      }}\n    />\n    <InfoBlock label=\"Deposit\" amount={depositAmount} />\n    <InfoBlock label=\"Profit\" amount={profitAmount} />\n  </>\n);\n\ninterface InfoBlockProps {\n  label: string;\n  amount: number;\n}\n\nconst InfoBlock: React.FunctionComponent<InfoBlockProps> = ({\n  label,\n  amount,\n}) => {\n  const amountFiat = useMemo(() => {\n    if (Number(amount)) {\n      return (Number(amount) * store.getState().balance.rate).toFixed(2);\n    }\n    return 0;\n  }, [amount]);\n\n  return (\n    <div\n      style={{\n        alignItems: \"center\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginLeft: 14,\n        marginRight: 20,\n        marginTop: 12,\n      }}\n    >\n      <div\n        style={{\n          color: \"#2D2D2D\",\n          fontSize: 20,\n          fontStyle: \"normal\",\n          fontWeight: \"bold\",\n          lineHeight: \"20px\",\n          opacity: 0.9,\n        }}\n      >\n        {`${label}:`}\n      </div>\n      <div style={{ flexDirection: \"column\" }}>\n        <div\n          style={{\n            fontSize: 14,\n            fontStyle: \"normal\",\n            fontWeight: \"bold\",\n            lineHeight: \"20px\",\n            textAlign: \"end\",\n            textTransform: \"uppercase\",\n          }}\n        >\n          {`${amount.toFixed(2)} NEAR`}\n        </div>\n        <div\n          style={{\n            fontSize: 12,\n            fontStyle: \"normal\",\n            fontWeight: 500,\n            lineHeight: \"26px\",\n            opacity: 0.5,\n            textAlign: \"end\",\n          }}\n        >\n          {`$${amountFiat} USD`}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(StrategyProfit);\n","import React, { useCallback, useMemo } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Box, Card } from \"@mui/material\";\nimport { IFarm } from \"../../hooks/useFarmsList\";\nimport { startStrategy } from \"../strategyItem/strategyItemSlice\";\nimport { TokenIcon } from \"../../components/TokenIcon\";\nimport StrategyTitle from \"../../components/Strategy/StrategyTitle\";\nimport StrategyProfit from \"../../components/Strategy/StrategyProfit\";\n\ninterface Props {\n  farm: IFarm;\n}\n\nconst FarmingItem: React.FunctionComponent<Props> = ({ farm }) => {\n  const statusColor = useMemo(() => {\n    switch (farm.status) {\n      case \"in-progress\":\n        return \"#00D254\";\n      case \"active\":\n        return \"#00ADD2\";\n      case \"soon\":\n        return \"#F0B622\";\n    }\n  }, [farm.status]);\n\n  const dispatch = useDispatch();\n\n  const onStartStrategy = useCallback(\n    (amount: string, strategyId: string) => {\n      console.log(`onStartStrategy ${amount} - ${strategyId}`);\n      dispatch(startStrategy({ amount, strategyId: strategyId }));\n    },\n    [dispatch],\n  );\n\n  return (\n    <Card\n      sx={{\n        borderBlock: \"solid\",\n        borderColor: \"#ECECEC\",\n        borderRadius: \"10px\",\n        borderWidth: \"1px\",\n        boxShadow: \"0px 4px 20px rgba(103, 103, 103, 0.25)\",\n        mb: \"26px\",\n        overflow: \"hidden\",\n        position: \"relative\",\n        width: \"100%\",\n      }}\n    >\n      <Box\n        sx={{\n          backgroundColor: statusColor,\n          height: \"8px\",\n          width: \"100%\",\n        }}\n      />\n      {farm.status === \"soon\" && (\n        <div\n          style={{\n            left: \"50%\",\n            position: \"absolute\",\n            top: 0,\n            transform: \"translate(-50%)\",\n          }}\n        >\n          <div\n            style={{\n              backgroundColor: \"#F0B622\",\n              borderRadius: 6,\n              color: \"#FFFFFF\",\n              fontSize: 13,\n              fontStyle: \"normal\",\n              fontWeight: 500,\n              lineHeight: \"26px\",\n              marginLeft: 5,\n              paddingLeft: 8,\n              paddingRight: 8,\n            }}\n          >\n            Coming soon\n          </div>\n        </div>\n      )}\n      <Box\n        sx={{\n          pb: \"34px\",\n          pt: \"12px\",\n        }}\n      >\n        <StrategyTitle strategy={farm} onStartStrategy={onStartStrategy} />\n        <div\n          style={{\n            alignItems: \"center\",\n            display: \"flex\",\n          }}\n        >\n          <div\n            style={{\n              alignItems: \"center\",\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              marginLeft: 14,\n              marginRight: 20,\n              width: 200,\n            }}\n          >\n            <div\n              style={{\n                fontSize: 20,\n                fontStyle: \"normal\",\n                fontWeight: 500,\n                lineHeight: \"26px\",\n              }}\n            >\n              {`${farm.pair.first}-${farm.pair.second}`}\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                width: 66,\n              }}\n            >\n              <TokenIcon token={farm.pair.first} />\n              <TokenIcon token={farm.pair.second} />\n            </div>\n          </div>\n          <div\n            style={{\n              alignItems: \"center\",\n              display: \"flex\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <div\n              style={{\n                border: \"1px solid #000000\",\n                height: 26,\n                opacity: 0.2,\n              }}\n            />\n            <div\n              style={{\n                display: \"flex\",\n                fontSize: \"20px\",\n                fontStyle: \"normal\",\n                fontWeight: 500,\n                justifyContent: \"center\",\n                lineHeight: \"26px\",\n                width: 160,\n              }}\n            >\n              {`APR: ${farm.apr}%`}\n            </div>\n          </div>\n        </div>\n        <StrategyProfit\n          depositAmount={farm.depositAmount}\n          profitAmount={farm.profitAmount}\n        />\n      </Box>\n    </Card>\n  );\n};\n\nexport default React.memo(FarmingItem);\n","import React, { useCallback, useMemo } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Box, Card } from \"@mui/material\";\nimport { startStrategy } from \"../strategyItem/strategyItemSlice\";\nimport { IStake } from \"../../hooks/useStakesList\";\nimport { TokenIcon } from \"../../components/TokenIcon\";\nimport StrategyTitle from \"../../components/Strategy/StrategyTitle\";\nimport StrategyProfit from \"../../components/Strategy/StrategyProfit\";\n\ninterface Props {\n  stake: IStake;\n}\n\nconst StakingItem: React.FunctionComponent<Props> = ({ stake }) => {\n  const statusColor = useMemo(() => {\n    switch (stake.status) {\n      case \"in-progress\":\n        return \"#00D254\";\n      case \"active\":\n        return \"#00ADD2\";\n      case \"soon\":\n        return \"#F0B622\";\n    }\n  }, [stake.status]);\n\n  const dispatch = useDispatch();\n\n  const onStartStrategy = useCallback(\n    (amount: string, strategyId: string) => {\n      dispatch(startStrategy({ amount: amount, strategyId: strategyId }));\n    },\n    [dispatch],\n  );\n\n  return (\n    <Card\n      sx={{\n        borderBlock: \"solid\",\n        borderColor: \"#ECECEC\",\n        borderRadius: \"10px\",\n        borderWidth: \"1px\",\n        boxShadow: \"0px 4px 20px rgba(103, 103, 103, 0.25)\",\n        mb: \"26px\",\n        overflow: \"hidden\",\n        width: \"100%\",\n      }}\n    >\n      <Box\n        sx={{\n          backgroundColor: statusColor,\n          height: \"8px\",\n          width: \"100%\",\n        }}\n      />\n      <Box\n        sx={{\n          pb: \"34px\",\n          pt: \"12px\",\n        }}\n      >\n        <StrategyTitle strategy={stake} onStartStrategy={onStartStrategy} />\n        <div\n          style={{\n            alignItems: \"center\",\n            display: \"flex\",\n          }}\n        >\n          <div\n            style={{\n              alignItems: \"center\",\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              marginLeft: 14,\n              marginRight: 20,\n              width: 200,\n            }}\n          >\n            <div\n              style={{\n                fontSize: 20,\n                fontStyle: \"normal\",\n                fontWeight: 500,\n                lineHeight: \"26px\",\n              }}\n            >\n              {`${stake.token}`}\n            </div>\n            <TokenIcon token={stake.token} />\n          </div>\n          <div\n            style={{\n              alignItems: \"center\",\n              display: \"flex\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <div\n              style={{\n                border: \"1px solid #000000\",\n                height: 26,\n                opacity: 0.2,\n              }}\n            />\n            <div\n              style={{\n                display: \"flex\",\n                fontSize: \"20px\",\n                fontStyle: \"normal\",\n                fontWeight: 500,\n                justifyContent: \"center\",\n                lineHeight: \"26px\",\n                width: 160,\n              }}\n            >\n              {`APR: ${stake.apr}%`}\n            </div>\n          </div>\n        </div>\n        <StrategyProfit\n          depositAmount={stake.depositAmount}\n          profitAmount={stake.profitAmount}\n        />\n      </Box>\n    </Card>\n  );\n};\n\nexport default React.memo(StakingItem);\n","import React, { useCallback } from \"react\";\nimport useFarmsList, { IFarm } from \"../../hooks/useFarmsList\";\nimport { Box, CircularProgress } from \"@mui/material\";\nimport FarmingItem from \"./FarmingItem\";\nimport useStakesList, { IStake } from \"../../hooks/useStakesList\";\nimport StakingItem from \"./StakingItem\";\n\nconst StrategiesList: React.FunctionComponent = () => {\n  const { farms } = useFarmsList();\n  const { stakes } = useStakesList();\n\n  const strategyItem = useCallback((item: IFarm | IStake) => {\n    switch (item._type) {\n      case \"stake\":\n        return <StakingItem stake={item} />;\n      case \"farm\":\n        return <FarmingItem farm={item} />;\n    }\n  }, []);\n\n  return (\n    <>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          marginBottom: 23,\n        }}\n      >\n        <StatusInfo color=\"#00D254\" label=\"In progress\" />\n        <StatusInfo color=\"#00ADD2\" label=\"Active\" />\n        <StatusInfo color=\"#F0B622\" label=\"Coming soon\" />\n      </div>\n      {farms.length > 0 ? (\n        <Box\n          sx={{\n            display: \"flex\",\n            flexWrap: \"wrap\",\n            justifyContent: \"center\",\n            mb: 2.5,\n            mx: 2.5,\n          }}\n        >\n          {[...farms, ...stakes].map((item, index) => (\n            <Box\n              key={item.id}\n              sx={{\n                mx: 2.5,\n              }}\n            >\n              {strategyItem(item)}\n            </Box>\n          ))}\n        </Box>\n      ) : (\n        <div\n          style={{\n            alignItems: \"center\",\n            display: \"flex\",\n            height: \"100%\",\n            justifyContent: \"center\",\n          }}\n        >\n          <CircularProgress color=\"success\" />\n        </div>\n      )}\n    </>\n  );\n};\n\ninterface StatusInfoProps {\n  color: string;\n  label: string;\n}\n\nconst StatusInfo: React.FunctionComponent<StatusInfoProps> = ({\n  color,\n  label,\n}) => (\n  <div\n    style={{\n      alignItems: \"center\",\n      display: \"flex\",\n      margin: \"20px 18px 0px 18px\",\n    }}\n  >\n    <div\n      style={{\n        backgroundColor: color,\n        borderRadius: 10,\n        height: 15,\n        width: 15,\n      }}\n    />\n    <div\n      style={{\n        color: \"#2D2D2D\",\n        fontSize: 11,\n        fontStyle: \"normal\",\n        fontWeight: 500,\n        lineHeight: \"26px\",\n        marginLeft: 5,\n        opacity: 0.4,\n      }}\n    >\n      {` - ${label}`}\n    </div>\n  </div>\n);\n\nexport default React.memo(StrategiesList);\n","import { FarmStatus, TokenName } from \"./useFarmsList\";\nimport { useState } from \"react\";\n\nexport interface IStake {\n  _type: \"stake\";\n  provider: string;\n  id: number;\n  apr: string;\n  token: TokenName;\n  depositAmount: number;\n  profitAmount: number;\n  status: FarmStatus;\n}\n\ninterface Options {\n  stakes: IStake[];\n}\n\nexport default function useStakesList(): Options {\n  const [stakes, setStakes] = useState<IStake[]>([\n    {\n      _type: \"stake\",\n      apr: \"10.5\",\n      depositAmount: 12,\n      id: 1,\n      profitAmount: 9,\n      provider: \"Staking\",\n      status: \"soon\",\n      token: \"Metapool stNEAR\",\n    },\n    {\n      _type: \"stake\",\n      apr: \"50.34\",\n      depositAmount: 7,\n      id: 2,\n      profitAmount: 3,\n      provider: \"REF Farming\",\n      status: \"soon\",\n      token: \"REF-NEAR\",\n    },\n  ]);\n\n  return { stakes };\n}\n","import \"./App.css\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\nimport { Box } from \"@mui/material\";\nimport React from \"react\";\nimport Header from \"./components/Header/Header\";\nimport Balance from \"./components/Balance/Balance\";\nimport StrategiesList from \"./features/strategies/StrategiesList\";\nimport walletAPI from \"./api/WalletAPI\";\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      contrastText: \"#000\",\n      dark: \"#808e95\",\n      light: \"#e2f1f8\",\n      main: \"#B0BEC5\",\n    },\n    secondary: {\n      contrastText: \"#000\",\n      dark: \"#009faf\",\n      light: \"#88ffff\",\n      main: \"#4DD0E1\",\n    },\n  },\n});\n\nconst App = (): JSX.Element => (\n  <ThemeProvider theme={theme}>\n    <div className=\"App\">\n      <CssBaseline />\n      <Box\n        sx={{\n          display: \"grid\",\n          gridTemplateAreas: `\"header header\"\n          \"page page\"`,\n          gridTemplateRows: \"1fr 6fr\",\n          height: \"100%\",\n          pb: 10,\n          px: 10,\n          width: \"100%\",\n        }}\n      >\n        <Box sx={{ gridArea: \"header\" }}>\n          <Header />\n        </Box>\n        {walletAPI.isSignedIn() ? (\n          <AuthorizedContent />\n        ) : (\n          <NotAuthorizedContent />\n        )}\n      </Box>\n    </div>\n  </ThemeProvider>\n);\n\nconst AuthorizedContent: React.FunctionComponent = () => (\n  <Box\n    sx={{\n      borderRadius: \"10px\",\n      display: \"grid\",\n      gridArea: \"page\",\n      gridTemplateAreas: `\"balance strategies\"`,\n      gridTemplateColumns: \"3fr 8fr\",\n      height: \"100%\",\n      overflow: \"hidden\",\n      width: \"100%\",\n    }}\n  >\n    <Box sx={{ gridArea: \"balance\" }}>\n      <Balance />\n    </Box>\n    <Box\n      sx={{\n        backgroundColor: \"#F8F8F8\",\n        gridArea: \"strategies\",\n        height: \"auto\",\n        maxHeight: \"100%\",\n        overflowY: \"auto\",\n      }}\n    >\n      <StrategiesList />\n    </Box>\n  </Box>\n);\n\nconst NotAuthorizedContent: React.FunctionComponent = () => (\n  <Box\n    sx={{\n      backgroundColor: \"#F8F8F8\",\n      borderRadius: \"10px\",\n      gridArea: \"page\",\n      height: \"100%\",\n      minHeight: \"100%\",\n      overflow: \"hidden\",\n      overflowY: \"auto\",\n      width: \"100%\",\n    }}\n  >\n    <StrategiesList />\n  </Box>\n);\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { keyStores, Near, utils } from \"near-api-js\";\nimport { ftGetStorageBalance, executeMultipleTransactions } from \"./token\";\nimport config from \"../config\";\nimport { wallet } from \"./token\";\nexport const ONE_YOCTO_NEAR = \"0.000000000000000000000001\";\nexport const NEW_ACCOUNT_STORAGE_COST = \"0.00125\";\n\nconst configTestnet = {\n  explorerUrl: \"https://explorer.testnet.near.org\",\n  helperUrl: \"https://helper.testnet.near.org\",\n  networkId: \"testnet\",\n  nodeUrl: \"https://rpc.testnet.near.org\",\n  walletUrl: \"https://wallet.testnet.near.org\",\n};\n\nconst configMainnet = {\n  explorerUrl: \"https://explorer.mainnet.near.org\",\n  helperUrl: \"https://helper.mainnet.near.org\",\n  networkId: \"mainnet\",\n  nodeUrl: \"https://rpc.mainnet.near.org\",\n  walletUrl: \"https://wallet.mainnet.near.org\",\n};\n\nexport const nearAPITestnet = new Near({\n  keyStore: new keyStores.InMemoryKeyStore(),\n  ...configTestnet,\n});\n\nexport const nearAPIMainnet = new Near({\n  keyStore: new keyStores.InMemoryKeyStore(),\n  ...configMainnet,\n});\n\nexport const wrapNear = async amount => {\n  const transactions = [];\n\n  const actions = [];\n  const balance = await ftGetStorageBalance(config.wrapNearContractId);\n\n  if (!balance || balance.total === \"0\") {\n    actions.push({\n      amount: NEW_ACCOUNT_STORAGE_COST,\n      args: {},\n      gas: \"30000000000000\",\n      methodName: \"storage_deposit\",\n    });\n  }\n\n  actions.push({\n    amount,\n    args: {},\n    gas: \"50000000000000\",\n    methodName: \"near_deposit\",\n  });\n\n  actions.push({\n    amount: ONE_YOCTO_NEAR,\n    args: {\n      amount: utils.format.parseNearAmount(amount),\n      msg: \"\",\n      receiver_id: config.depositiumContractId,\n    },\n    gas: \"50000000000000\",\n    methodName: \"ft_transfer_call\",\n  });\n\n  transactions.push({\n    functionCalls: actions,\n    receiverId: config.wrapNearContractId,\n  });\n\n  return executeMultipleTransactions(transactions);\n};\n\nexport const startStrategy = async amount => {\n  const transactions = [];\n\n  console.log(\"startStrategy\", amount);\n  const accoundId = wallet.getAccountId();\n  const accoundPrefix = accoundId.split(\".\")[0];\n  const subAccId = `${accoundPrefix}.${config.depositiumContractId}`;\n\n  transactions.push({\n    functionCalls: [\n      {\n        amount: \"4\",\n        args: {\n          accound_sub_id: accoundPrefix,\n        },\n        gas: \"300000000000000\",\n        methodName: \"create\",\n      },\n    ],\n    receiverId: config.depositiumContractId,\n  });\n\n  transactions.push({\n    functionCalls: [\n      {\n        amount: \"0.1\",\n        args: {\n          account_id: subAccId,\n        },\n        gas: \"300000000000000\",\n        methodName: \"storage_deposit\",\n      },\n    ],\n    receiverId: config.wrapNearContractId,\n  });\n\n  transactions.push({\n    functionCalls: [\n      {\n        methodName: \"storage_deposit\",\n        args: {\n          account_id: subAccId,\n        },\n        amount: \"0.1\",\n        gas: \"300000000000000\",\n      },\n    ],\n    receiverId: config.farmingContractId,\n  });\n\n  transactions.push({\n    functionCalls: [\n      {\n        args: {},\n        gas: \"300000000000000\",\n        methodName: \"init\",\n      },\n    ],\n    receiverId: subAccId,\n  });\n\n  transactions.push({\n    functionCalls: [\n      {\n        args: {\n          account_id: accoundId,\n          sub_account_id: subAccId,\n          amount: utils.format.parseNearAmount(amount),\n        },\n        gas: \"300000000000000\",\n        methodName: \"start_strategy\",\n      },\n    ],\n    receiverId: config.depositiumContractId,\n  });\n\n  return executeMultipleTransactions(transactions);\n};\n\nexport const fetchFiatRate = async () =>\n  fetch(process.env.REACT_APP_ACCOUNT_HELPER_URL + \"/fiat\", {\n    headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\n    method: \"GET\",\n  })\n    .then(res => res.json())\n    .catch(() => ({\n      near: {\n        cny: 66.36,\n        eur: 8.98,\n        last_updated_at: 1636159198,\n        usd: 10.37,\n      },\n    }));\n","import BN from \"bn.js\";\nimport { baseDecode } from \"borsh\";\n\nimport {\n  Near,\n  keyStores,\n  utils,\n  WalletConnection,\n  ConnectedWalletAccount,\n} from \"near-api-js\";\nimport { functionCall, createTransaction } from \"near-api-js/lib/transaction\";\nimport { PublicKey } from \"near-api-js/lib/utils\";\nimport config from \"../config\";\n\nconst near = new Near({\n  keyStore: new keyStores.InMemoryKeyStore(),\n  ...config,\n});\n\nexport default class SpecialWallet extends WalletConnection {\n  _connectedAccount;\n\n  _checkConnectedAccount() {\n    if (!this._connectedAccount) {\n      this._connectedAccount = new SpecialWalletAccount(\n        this,\n        this._near.connection,\n        this._authData.accountId,\n      );\n    }\n  }\n\n  account() {\n    this._checkConnectedAccount();\n    return this._connectedAccount;\n  }\n\n  createTransaction({ receiverId, actions, nonceOffset = 1 }) {\n    this._checkConnectedAccount();\n    return this._connectedAccount.createTransaction({\n      receiverId,\n      actions,\n      nonceOffset,\n    });\n  }\n}\n\nexport const wallet = new SpecialWallet(near, config.depositiumContractId);\n\nexport const ftViewFunction = (tokenId, { methodName, args }) =>\n  wallet.account().viewFunction(tokenId, methodName, args);\n\nexport const ftGetStorageBalance = (\n  tokenId,\n  accountId = wallet.getAccountId(),\n) =>\n  ftViewFunction(tokenId, {\n    args: { account_id: accountId },\n    methodName: \"storage_balance_of\",\n  });\n\nexport const getGas = gas => (gas ? new BN(gas) : new BN(\"100000000000000\"));\nexport const getAmount = amount =>\n  amount ? new BN(utils.format.parseNearAmount(amount)) : new BN(\"0\");\n\nexport const executeMultipleTransactions = async (\n  transactions,\n  callbackUrl,\n) => {\n  const nearTransactions = await Promise.all(\n    transactions.map((t, i) =>\n      wallet.createTransaction({\n        actions: t.functionCalls.map(fc =>\n          functionCall(\n            fc.methodName,\n            fc.args,\n            getGas(fc.gas),\n            getAmount(fc.amount),\n          ),\n        ),\n        nonceOffset: i + 1,\n        receiverId: t.receiverId,\n      }),\n    ),\n  );\n\n  return wallet.requestSignTransactions(nearTransactions, callbackUrl);\n};\n\nclass SpecialWalletAccount extends ConnectedWalletAccount {\n  async sendTransactionWithActions(receiverId, actions) {\n    return this.signAndSendTransaction(receiverId, actions);\n  }\n\n  async createTransaction({ receiverId, actions, nonceOffset = 1 }) {\n    const localKey = await this.connection.signer.getPublicKey(\n      this.accountId,\n      this.connection.networkId,\n    );\n    let accessKey = await this.accessKeyForTransaction(\n      receiverId,\n      actions,\n      localKey,\n    );\n    if (!accessKey) {\n      throw new Error(\n        `Cannot find matching key for transaction sent to ${receiverId}`,\n      );\n    }\n\n    const block = await this.connection.provider.block({ finality: \"final\" });\n    const blockHash = baseDecode(block.header.hash);\n\n    const publicKey = PublicKey.from(accessKey.public_key);\n    const nonce = accessKey.access_key.nonce + nonceOffset;\n\n    return createTransaction(\n      this.accountId,\n      publicKey,\n      receiverId,\n      nonce,\n      actions,\n      blockHash,\n    );\n  }\n}\n","import { nearAPITestnet } from \"../api/NearAPI\";\nimport walletAPI from \"../api/WalletAPI\";\nimport config from \"../config\";\n\nconst view = (\n  { methodName, args = {} },\n  accountId = config.farmingContractId,\n) =>\n  nearAPITestnet.connection.provider\n    .query({\n      account_id: accountId,\n      args_base64: Buffer.from(JSON.stringify(args)).toString(\"base64\"),\n      finality: \"final\",\n      method_name: methodName,\n      request_type: \"call_function\",\n    })\n    .then(({ result }) => JSON.parse(Buffer.from(result).toString()));\n\nexport const getSeeds = async () =>\n  await view({\n    args: { from_index: 0, limit: 100 },\n    methodName: \"list_seeds\",\n  });\n\nexport const getFarms = async () =>\n  await view({\n    args: { from_index: 0, limit: 100 },\n    methodName: \"list_farms\",\n  });\n\nexport const getPools = async () =>\n  await view(\n    {\n      args: { from_index: 0, limit: 100 },\n      methodName: \"get_pools\",\n    },\n    config.financeContractId,\n  );\n\nexport const storageBalanceOf = async accountId =>\n  await view(\n    {\n      args: { account_id: accountId },\n      methodName: \"storage_balance_of\",\n    },\n    config.financeContractId,\n  );\n\nexport const getRewardsByAccountId = async ({\n  accountId = walletAPI.getAccountId(),\n}) =>\n  view(\n    {\n      args: { account_id: accountId },\n      methodName: \"list_rewards\",\n    },\n    config.farmingContractId,\n  );\n\nexport const getStakedListByAccountId = async ({\n  accountId = walletAPI.getAccountId(),\n}) =>\n  await view(\n    {\n      args: { account_id: accountId },\n      methodName: \"list_user_seeds\",\n    },\n    config.farmingContractId,\n  );\n\nexport const getStrategyState = async ({\n  farmId,\n  accountId = walletAPI.getAccountId(),\n}) =>\n  await view(\n    {\n      args: { account_id: accountId, farm_id: farmId },\n      methodName: \"get_user_rps\",\n    },\n    config.financeContractId,\n  );\n"],"sourceRoot":""}